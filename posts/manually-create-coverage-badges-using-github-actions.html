<!DOCTYPE html><html lang="en"><head><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-26QBVG95QT"></script><script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-26QBVG95QT', {
              page_path: window.location.pathname,
            });
          </script><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><meta name="viewport" content="width=device-width"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><link rel="stylesheet" data-href="https://fonts.googleapis.com/css2?family=Fira+Code&amp;family=Inte&amp;family=Roboto&amp;display=swap" data-optimized-fonts="true"/><meta charSet="UTF-8"/><title>Manually Create Coverage Badges Using GitHub Actions | Nap Joseph Calub</title><meta property="description" content="
Adding a coverage badge to your repository is an excellent way to demonstrate your project&#x27;s test coverage and maintain a high level of code quality. By the en..."/><meta property="keywords" content="web development, software engineering, blog, go, typescript"/><meta property="author" content="Nap Joseph Calub"/><meta property="og:title" content="Manually Create Coverage Badges Using GitHub Actions | Nap Joseph Calub"/><meta property="og:description" content="
Adding a coverage badge to your repository is an excellent way to demonstrate your project&#x27;s test coverage and maintain a high level of code quality. By the end of this guide, you will be able to generate a dynamic coverage badge that updates automatically with each new push to your repository.

##..."/><meta property="og:type" content="article"/><meta property="og:image" content="https://napjose.ph/open-graph.png"/><meta property="og:locale" content="en_US"/><meta property="og:site_name" content="Nap Joseph Calub"/><meta property="og:url" content="https://napjose.ph/posts/manually-create-coverage-badges-using-github-actions"/><meta name="next-head-count" content="16"/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/_next/static/chunks/webpack-2d5847a6bffe8fe12040.js" defer=""></script><script src="/_next/static/chunks/main-90f9a43e359544f52755.js" defer=""></script><script src="/_next/static/chunks/pages/_app-8ffb3fe6fda72bb1aa1a.js" defer=""></script><script src="/_next/static/chunks/6f1b147c-28b2f1205a912ab35eca.js" defer=""></script><script src="/_next/static/chunks/550-f058240419b96d46c069.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-c32c21fd22a1c714edcf.js" defer=""></script><script src="/_next/static/YK9qWzohV16kOX2X7D8V4/_buildManifest.js" defer=""></script><script src="/_next/static/YK9qWzohV16kOX2X7D8V4/_ssgManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=Fira+Code&family=Inte&family=Roboto&display=swap">@font-face{font-family:'Fira Code';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v22/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_D1sFVQ.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Me5g.woff) format('woff')}@font-face{font-family:'Fira Code';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v22/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_D1sJV37MOzlojwUKaJO.woff) format('woff');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Fira Code';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v22/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_D1sJVT7MOzlojwUKaJO.woff) format('woff');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Fira Code';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v22/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_D1sJVz7MOzlojwUKaJO.woff) format('woff');unicode-range:U+1F00-1FFF}@font-face{font-family:'Fira Code';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v22/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_D1sJVP7MOzlojwUKaJO.woff) format('woff');unicode-range:U+0370-03FF}@font-face{font-family:'Fira Code';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v22/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_D1sJV77MOzlojwUKaJO.woff) format('woff');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Fira Code';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/firacode/v22/uU9eCBsR6Z2vfE9aq3bL0fxyUs4tcw4W_D1sJVD7MOzlojwUKQ.woff) format('woff');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu72xKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu5mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu4WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+0300-0301,U+0303-0304,U+0308-0309,U+0323,U+0329,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7GxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu4mxKKTU1Kg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><script>(function setScript(initialValue) {
  var mql = window.matchMedia("(prefers-color-scheme: dark)");
  var systemPreference = mql.matches ? "dark" : "light";
  var persistedPreference = systemPreference;

  try {
    persistedPreference = localStorage.getItem("chakra-ui-color-mode");
  } catch (error) {
    console.log("Chakra UI: localStorage is not available. Color mode persistence might not work as expected");
  }

  var colorMode;

  if (persistedPreference) {
    colorMode = persistedPreference;
  } else if (initialValue === "system") {
    colorMode = systemPreference;
  } else {
    colorMode = initialValue != null ? initialValue : systemPreference;
  }

  if (colorMode) {
    /**
     * Keep in sync with `root.set() {@file ./color-mode.utils.ts}
     */
    document.documentElement.style.setProperty("--chakra-ui-color-mode", colorMode);
    document.documentElement.setAttribute("data-theme", colorMode);
  }
})('light')</script><div id="__next"><style data-emotion="css-global 12e3rft">:host,:root{--chakra-ring-inset:var(--chakra-empty,/*!*/ /*!*/);--chakra-ring-offset-width:0px;--chakra-ring-offset-color:#fff;--chakra-ring-color:rgba(66, 153, 225, 0.6);--chakra-ring-offset-shadow:0 0 #0000;--chakra-ring-shadow:0 0 #0000;--chakra-space-x-reverse:0;--chakra-space-y-reverse:0;--chakra-colors-transparent:transparent;--chakra-colors-current:currentColor;--chakra-colors-black:#000000;--chakra-colors-white:#FFFFFF;--chakra-colors-whiteAlpha-50:rgba(255, 255, 255, 0.04);--chakra-colors-whiteAlpha-100:rgba(255, 255, 255, 0.06);--chakra-colors-whiteAlpha-200:rgba(255, 255, 255, 0.08);--chakra-colors-whiteAlpha-300:rgba(255, 255, 255, 0.16);--chakra-colors-whiteAlpha-400:rgba(255, 255, 255, 0.24);--chakra-colors-whiteAlpha-500:rgba(255, 255, 255, 0.36);--chakra-colors-whiteAlpha-600:rgba(255, 255, 255, 0.48);--chakra-colors-whiteAlpha-700:rgba(255, 255, 255, 0.64);--chakra-colors-whiteAlpha-800:rgba(255, 255, 255, 0.80);--chakra-colors-whiteAlpha-900:rgba(255, 255, 255, 0.92);--chakra-colors-blackAlpha-50:rgba(0, 0, 0, 0.04);--chakra-colors-blackAlpha-100:rgba(0, 0, 0, 0.06);--chakra-colors-blackAlpha-200:rgba(0, 0, 0, 0.08);--chakra-colors-blackAlpha-300:rgba(0, 0, 0, 0.16);--chakra-colors-blackAlpha-400:rgba(0, 0, 0, 0.24);--chakra-colors-blackAlpha-500:rgba(0, 0, 0, 0.36);--chakra-colors-blackAlpha-600:rgba(0, 0, 0, 0.48);--chakra-colors-blackAlpha-700:rgba(0, 0, 0, 0.64);--chakra-colors-blackAlpha-800:rgba(0, 0, 0, 0.80);--chakra-colors-blackAlpha-900:rgba(0, 0, 0, 0.92);--chakra-colors-gray-50:#F7FAFC;--chakra-colors-gray-100:#EDF2F7;--chakra-colors-gray-200:#E2E8F0;--chakra-colors-gray-300:#CBD5E0;--chakra-colors-gray-400:#A0AEC0;--chakra-colors-gray-500:#718096;--chakra-colors-gray-600:#4A5568;--chakra-colors-gray-700:#2D3748;--chakra-colors-gray-800:#1A202C;--chakra-colors-gray-900:#171923;--chakra-colors-red-50:#FFF5F5;--chakra-colors-red-100:#FED7D7;--chakra-colors-red-200:#FEB2B2;--chakra-colors-red-300:#FC8181;--chakra-colors-red-400:#F56565;--chakra-colors-red-500:#E53E3E;--chakra-colors-red-600:#C53030;--chakra-colors-red-700:#9B2C2C;--chakra-colors-red-800:#822727;--chakra-colors-red-900:#63171B;--chakra-colors-orange-50:#FFFAF0;--chakra-colors-orange-100:#FEEBC8;--chakra-colors-orange-200:#FBD38D;--chakra-colors-orange-300:#F6AD55;--chakra-colors-orange-400:#ED8936;--chakra-colors-orange-500:#DD6B20;--chakra-colors-orange-600:#C05621;--chakra-colors-orange-700:#9C4221;--chakra-colors-orange-800:#7B341E;--chakra-colors-orange-900:#652B19;--chakra-colors-yellow-50:#FFFFF0;--chakra-colors-yellow-100:#FEFCBF;--chakra-colors-yellow-200:#FAF089;--chakra-colors-yellow-300:#F6E05E;--chakra-colors-yellow-400:#ECC94B;--chakra-colors-yellow-500:#D69E2E;--chakra-colors-yellow-600:#B7791F;--chakra-colors-yellow-700:#975A16;--chakra-colors-yellow-800:#744210;--chakra-colors-yellow-900:#5F370E;--chakra-colors-green-50:#F0FFF4;--chakra-colors-green-100:#C6F6D5;--chakra-colors-green-200:#9AE6B4;--chakra-colors-green-300:#68D391;--chakra-colors-green-400:#48BB78;--chakra-colors-green-500:#38A169;--chakra-colors-green-600:#2F855A;--chakra-colors-green-700:#276749;--chakra-colors-green-800:#22543D;--chakra-colors-green-900:#1C4532;--chakra-colors-teal-50:#E6FFFA;--chakra-colors-teal-100:#B2F5EA;--chakra-colors-teal-200:#81E6D9;--chakra-colors-teal-300:#4FD1C5;--chakra-colors-teal-400:#38B2AC;--chakra-colors-teal-500:#319795;--chakra-colors-teal-600:#2C7A7B;--chakra-colors-teal-700:#285E61;--chakra-colors-teal-800:#234E52;--chakra-colors-teal-900:#1D4044;--chakra-colors-blue-50:#ebf8ff;--chakra-colors-blue-100:#bee3f8;--chakra-colors-blue-200:#90cdf4;--chakra-colors-blue-300:#63b3ed;--chakra-colors-blue-400:#4299e1;--chakra-colors-blue-500:#3182ce;--chakra-colors-blue-600:#2b6cb0;--chakra-colors-blue-700:#2c5282;--chakra-colors-blue-800:#2a4365;--chakra-colors-blue-900:#1A365D;--chakra-colors-cyan-50:#EDFDFD;--chakra-colors-cyan-100:#C4F1F9;--chakra-colors-cyan-200:#9DECF9;--chakra-colors-cyan-300:#76E4F7;--chakra-colors-cyan-400:#0BC5EA;--chakra-colors-cyan-500:#00B5D8;--chakra-colors-cyan-600:#00A3C4;--chakra-colors-cyan-700:#0987A0;--chakra-colors-cyan-800:#086F83;--chakra-colors-cyan-900:#065666;--chakra-colors-purple-50:#FAF5FF;--chakra-colors-purple-100:#E9D8FD;--chakra-colors-purple-200:#D6BCFA;--chakra-colors-purple-300:#B794F4;--chakra-colors-purple-400:#9F7AEA;--chakra-colors-purple-500:#805AD5;--chakra-colors-purple-600:#6B46C1;--chakra-colors-purple-700:#553C9A;--chakra-colors-purple-800:#44337A;--chakra-colors-purple-900:#322659;--chakra-colors-pink-50:#FFF5F7;--chakra-colors-pink-100:#FED7E2;--chakra-colors-pink-200:#FBB6CE;--chakra-colors-pink-300:#F687B3;--chakra-colors-pink-400:#ED64A6;--chakra-colors-pink-500:#D53F8C;--chakra-colors-pink-600:#B83280;--chakra-colors-pink-700:#97266D;--chakra-colors-pink-800:#702459;--chakra-colors-pink-900:#521B41;--chakra-colors-linkedin-50:#E8F4F9;--chakra-colors-linkedin-100:#CFEDFB;--chakra-colors-linkedin-200:#9BDAF3;--chakra-colors-linkedin-300:#68C7EC;--chakra-colors-linkedin-400:#34B3E4;--chakra-colors-linkedin-500:#00A0DC;--chakra-colors-linkedin-600:#008CC9;--chakra-colors-linkedin-700:#0077B5;--chakra-colors-linkedin-800:#005E93;--chakra-colors-linkedin-900:#004471;--chakra-colors-facebook-50:#E8F4F9;--chakra-colors-facebook-100:#D9DEE9;--chakra-colors-facebook-200:#B7C2DA;--chakra-colors-facebook-300:#6482C0;--chakra-colors-facebook-400:#4267B2;--chakra-colors-facebook-500:#385898;--chakra-colors-facebook-600:#314E89;--chakra-colors-facebook-700:#29487D;--chakra-colors-facebook-800:#223B67;--chakra-colors-facebook-900:#1E355B;--chakra-colors-messenger-50:#D0E6FF;--chakra-colors-messenger-100:#B9DAFF;--chakra-colors-messenger-200:#A2CDFF;--chakra-colors-messenger-300:#7AB8FF;--chakra-colors-messenger-400:#2E90FF;--chakra-colors-messenger-500:#0078FF;--chakra-colors-messenger-600:#0063D1;--chakra-colors-messenger-700:#0052AC;--chakra-colors-messenger-800:#003C7E;--chakra-colors-messenger-900:#002C5C;--chakra-colors-whatsapp-50:#dffeec;--chakra-colors-whatsapp-100:#b9f5d0;--chakra-colors-whatsapp-200:#90edb3;--chakra-colors-whatsapp-300:#65e495;--chakra-colors-whatsapp-400:#3cdd78;--chakra-colors-whatsapp-500:#22c35e;--chakra-colors-whatsapp-600:#179848;--chakra-colors-whatsapp-700:#0c6c33;--chakra-colors-whatsapp-800:#01421c;--chakra-colors-whatsapp-900:#001803;--chakra-colors-twitter-50:#E5F4FD;--chakra-colors-twitter-100:#C8E9FB;--chakra-colors-twitter-200:#A8DCFA;--chakra-colors-twitter-300:#83CDF7;--chakra-colors-twitter-400:#57BBF5;--chakra-colors-twitter-500:#1DA1F2;--chakra-colors-twitter-600:#1A94DA;--chakra-colors-twitter-700:#1681BF;--chakra-colors-twitter-800:#136B9E;--chakra-colors-twitter-900:#0D4D71;--chakra-colors-telegram-50:#E3F2F9;--chakra-colors-telegram-100:#C5E4F3;--chakra-colors-telegram-200:#A2D4EC;--chakra-colors-telegram-300:#7AC1E4;--chakra-colors-telegram-400:#47A9DA;--chakra-colors-telegram-500:#0088CC;--chakra-colors-telegram-600:#007AB8;--chakra-colors-telegram-700:#006BA1;--chakra-colors-telegram-800:#005885;--chakra-colors-telegram-900:#003F5E;--chakra-colors-brand-50:#e9eefc;--chakra-colors-brand-100:#c0cef7;--chakra-colors-brand-200:#98aff1;--chakra-colors-brand-300:#6f90ec;--chakra-colors-brand-400:#4770e6;--chakra-colors-brand-500:#1e51e1;--chakra-colors-brand-600:#1841b4;--chakra-colors-brand-700:#123187;--chakra-colors-brand-800:#0c205a;--chakra-colors-brand-900:#06102d;--chakra-borders-none:0;--chakra-borders-1px:1px solid;--chakra-borders-2px:2px solid;--chakra-borders-4px:4px solid;--chakra-borders-8px:8px solid;--chakra-fonts-heading:'Inter','Helvetica Neue','Arial',ui-sans-serif,system-ui,sans-serif;--chakra-fonts-body:'Roboto','Helvetica Neue','Arial',ui-sans-serif,system-ui,sans-serif;--chakra-fonts-mono:'Fira Code','Consolas','Liberation Mono','Courier New',monospace;--chakra-fonts-serif:'Georgia','Cambria','Times New Roman','Times',serif;--chakra-fontSizes-xs:0.75rem;--chakra-fontSizes-sm:0.875rem;--chakra-fontSizes-md:1rem;--chakra-fontSizes-lg:1.125rem;--chakra-fontSizes-xl:1.25rem;--chakra-fontSizes-2xl:1.5rem;--chakra-fontSizes-3xl:1.875rem;--chakra-fontSizes-4xl:2.25rem;--chakra-fontSizes-5xl:3rem;--chakra-fontSizes-6xl:3.75rem;--chakra-fontSizes-7xl:4.5rem;--chakra-fontSizes-8xl:6rem;--chakra-fontSizes-9xl:8rem;--chakra-fontWeights-hairline:100;--chakra-fontWeights-thin:200;--chakra-fontWeights-light:300;--chakra-fontWeights-normal:400;--chakra-fontWeights-medium:500;--chakra-fontWeights-semibold:600;--chakra-fontWeights-bold:700;--chakra-fontWeights-extrabold:800;--chakra-fontWeights-black:900;--chakra-letterSpacings-tighter:-0.05em;--chakra-letterSpacings-tight:-0.025em;--chakra-letterSpacings-normal:0;--chakra-letterSpacings-wide:0.025em;--chakra-letterSpacings-wider:0.05em;--chakra-letterSpacings-widest:0.1em;--chakra-lineHeights-3:.75rem;--chakra-lineHeights-4:1rem;--chakra-lineHeights-5:1.25rem;--chakra-lineHeights-6:1.5rem;--chakra-lineHeights-7:1.75rem;--chakra-lineHeights-8:2rem;--chakra-lineHeights-9:2.25rem;--chakra-lineHeights-10:2.5rem;--chakra-lineHeights-normal:normal;--chakra-lineHeights-none:1;--chakra-lineHeights-shorter:1.25;--chakra-lineHeights-short:1.375;--chakra-lineHeights-base:1.5;--chakra-lineHeights-tall:1.625;--chakra-lineHeights-taller:2;--chakra-radii-none:0;--chakra-radii-sm:0.125rem;--chakra-radii-base:0.25rem;--chakra-radii-md:0.375rem;--chakra-radii-lg:0.5rem;--chakra-radii-xl:0.75rem;--chakra-radii-2xl:1rem;--chakra-radii-3xl:1.5rem;--chakra-radii-full:9999px;--chakra-space-1:0.25rem;--chakra-space-2:0.5rem;--chakra-space-3:0.75rem;--chakra-space-4:1rem;--chakra-space-5:1.25rem;--chakra-space-6:1.5rem;--chakra-space-7:1.75rem;--chakra-space-8:2rem;--chakra-space-9:2.25rem;--chakra-space-10:2.5rem;--chakra-space-12:3rem;--chakra-space-14:3.5rem;--chakra-space-16:4rem;--chakra-space-20:5rem;--chakra-space-24:6rem;--chakra-space-28:7rem;--chakra-space-32:8rem;--chakra-space-36:9rem;--chakra-space-40:10rem;--chakra-space-44:11rem;--chakra-space-48:12rem;--chakra-space-52:13rem;--chakra-space-56:14rem;--chakra-space-60:15rem;--chakra-space-64:16rem;--chakra-space-72:18rem;--chakra-space-80:20rem;--chakra-space-96:24rem;--chakra-space-px:1px;--chakra-space-0-5:0.125rem;--chakra-space-1-5:0.375rem;--chakra-space-2-5:0.625rem;--chakra-space-3-5:0.875rem;--chakra-shadows-xs:0 0 0 1px rgba(0, 0, 0, 0.05);--chakra-shadows-sm:0 1px 2px 0 rgba(0, 0, 0, 0.05);--chakra-shadows-base:0 1px 3px 0 rgba(0, 0, 0, 0.1),0 1px 2px 0 rgba(0, 0, 0, 0.06);--chakra-shadows-md:0 4px 6px -1px rgba(0, 0, 0, 0.1),0 2px 4px -1px rgba(0, 0, 0, 0.06);--chakra-shadows-lg:0 10px 15px -3px rgba(0, 0, 0, 0.1),0 4px 6px -2px rgba(0, 0, 0, 0.05);--chakra-shadows-xl:0 20px 25px -5px rgba(0, 0, 0, 0.1),0 10px 10px -5px rgba(0, 0, 0, 0.04);--chakra-shadows-2xl:0 25px 50px -12px rgba(0, 0, 0, 0.25);--chakra-shadows-outline:0 0 0 3px rgba(66, 153, 225, 0.6);--chakra-shadows-inner:inset 0 2px 4px 0 rgba(0,0,0,0.06);--chakra-shadows-none:none;--chakra-shadows-dark-lg:rgba(0, 0, 0, 0.1) 0px 0px 0px 1px,rgba(0, 0, 0, 0.2) 0px 5px 10px,rgba(0, 0, 0, 0.4) 0px 15px 40px;--chakra-sizes-1:0.25rem;--chakra-sizes-2:0.5rem;--chakra-sizes-3:0.75rem;--chakra-sizes-4:1rem;--chakra-sizes-5:1.25rem;--chakra-sizes-6:1.5rem;--chakra-sizes-7:1.75rem;--chakra-sizes-8:2rem;--chakra-sizes-9:2.25rem;--chakra-sizes-10:2.5rem;--chakra-sizes-12:3rem;--chakra-sizes-14:3.5rem;--chakra-sizes-16:4rem;--chakra-sizes-20:5rem;--chakra-sizes-24:6rem;--chakra-sizes-28:7rem;--chakra-sizes-32:8rem;--chakra-sizes-36:9rem;--chakra-sizes-40:10rem;--chakra-sizes-44:11rem;--chakra-sizes-48:12rem;--chakra-sizes-52:13rem;--chakra-sizes-56:14rem;--chakra-sizes-60:15rem;--chakra-sizes-64:16rem;--chakra-sizes-72:18rem;--chakra-sizes-80:20rem;--chakra-sizes-96:24rem;--chakra-sizes-px:1px;--chakra-sizes-0-5:0.125rem;--chakra-sizes-1-5:0.375rem;--chakra-sizes-2-5:0.625rem;--chakra-sizes-3-5:0.875rem;--chakra-sizes-max:max-content;--chakra-sizes-min:min-content;--chakra-sizes-full:100%;--chakra-sizes-3xs:14rem;--chakra-sizes-2xs:16rem;--chakra-sizes-xs:20rem;--chakra-sizes-sm:24rem;--chakra-sizes-md:28rem;--chakra-sizes-lg:32rem;--chakra-sizes-xl:36rem;--chakra-sizes-2xl:42rem;--chakra-sizes-3xl:48rem;--chakra-sizes-4xl:56rem;--chakra-sizes-5xl:64rem;--chakra-sizes-6xl:72rem;--chakra-sizes-7xl:80rem;--chakra-sizes-8xl:90rem;--chakra-sizes-container-sm:640px;--chakra-sizes-container-md:768px;--chakra-sizes-container-lg:1024px;--chakra-sizes-container-xl:1280px;--chakra-zIndices-hide:-1;--chakra-zIndices-auto:auto;--chakra-zIndices-base:0;--chakra-zIndices-docked:10;--chakra-zIndices-dropdown:1000;--chakra-zIndices-sticky:1100;--chakra-zIndices-banner:1200;--chakra-zIndices-overlay:1300;--chakra-zIndices-modal:1400;--chakra-zIndices-popover:1500;--chakra-zIndices-skipLink:1600;--chakra-zIndices-toast:1700;--chakra-zIndices-tooltip:1800;--chakra-transition-property-common:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform;--chakra-transition-property-colors:background-color,border-color,color,fill,stroke;--chakra-transition-property-dimensions:width,height;--chakra-transition-property-position:left,right,top,bottom;--chakra-transition-property-background:background-color,background-image,background-position;--chakra-transition-easing-ease-in:cubic-bezier(0.4, 0, 1, 1);--chakra-transition-easing-ease-out:cubic-bezier(0, 0, 0.2, 1);--chakra-transition-easing-ease-in-out:cubic-bezier(0.4, 0, 0.2, 1);--chakra-transition-duration-ultra-fast:50ms;--chakra-transition-duration-faster:100ms;--chakra-transition-duration-fast:150ms;--chakra-transition-duration-normal:200ms;--chakra-transition-duration-slow:300ms;--chakra-transition-duration-slower:400ms;--chakra-transition-duration-ultra-slow:500ms;--chakra-blur-none:0;--chakra-blur-sm:4px;--chakra-blur-base:8px;--chakra-blur-md:12px;--chakra-blur-lg:16px;--chakra-blur-xl:24px;--chakra-blur-2xl:40px;--chakra-blur-3xl:64px;}</style><style data-emotion="css-global 1jqlf9g">html{line-height:1.5;-webkit-text-size-adjust:100%;font-family:system-ui,sans-serif;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;touch-action:manipulation;}body{position:relative;min-height:100%;font-feature-settings:'kern';}*,*::before,*::after{border-width:0;border-style:solid;box-sizing:border-box;}main{display:block;}hr{border-top-width:1px;box-sizing:content-box;height:0;overflow:visible;}pre,code,kbd,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,monospace;font-size:1em;}a{background-color:transparent;color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit;}abbr[title]{border-bottom:none;-webkit-text-decoration:underline;text-decoration:underline;-webkit-text-decoration:underline dotted;-webkit-text-decoration:underline dotted;text-decoration:underline dotted;}b,strong{font-weight:bold;}small{font-size:80%;}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;}sub{bottom:-0.25em;}sup{top:-0.5em;}img{border-style:none;}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0;}button,input{overflow:visible;}button,select{text-transform:none;}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0;}fieldset{padding:0.35em 0.75em 0.625em;}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal;}progress{vertical-align:baseline;}textarea{overflow:auto;}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0;}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{-webkit-appearance:none!important;}input[type="number"]{-moz-appearance:textfield;}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px;}[type="search"]::-webkit-search-decoration{-webkit-appearance:none!important;}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit;}details{display:block;}summary{display:-webkit-box;display:-webkit-list-item;display:-ms-list-itembox;display:list-item;}template{display:none;}[hidden]{display:none!important;}body,blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0;}button{background:transparent;padding:0;}fieldset{margin:0;padding:0;}ol,ul{margin:0;padding:0;}textarea{resize:vertical;}button,[role="button"]{cursor:pointer;}button::-moz-focus-inner{border:0!important;}table{border-collapse:collapse;}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit;}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit;}img,svg,video,canvas,audio,iframe,embed,object{display:block;}img,video{max-width:100%;height:auto;}[data-js-focus-visible] :focus:not([data-focus-visible-added]){outline:none;box-shadow:none;}select::-ms-expand{display:none;}</style><style data-emotion="css-global 1baqkrf">body{font-family:var(--chakra-fonts-body);color:var(--chakra-colors-gray-800);background:var(--chakra-colors-white);transition-property:background-color;transition-duration:var(--chakra-transition-duration-normal);line-height:var(--chakra-lineHeights-base);}*::-webkit-input-placeholder{color:var(--chakra-colors-gray-400);}*::-moz-placeholder{color:var(--chakra-colors-gray-400);}*:-ms-input-placeholder{color:var(--chakra-colors-gray-400);}*::placeholder{color:var(--chakra-colors-gray-400);}*,*::before,::after{border-color:var(--chakra-colors-gray-200);word-wrap:break-word;}</style><style data-emotion="css cofhgu">.css-cofhgu{max-width:var(--chakra-sizes-4xl);-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;-webkit-padding-start:var(--chakra-space-4);padding-inline-start:var(--chakra-space-4);-webkit-padding-end:var(--chakra-space-4);padding-inline-end:var(--chakra-space-4);}@media screen and (min-width: 30em){.css-cofhgu{-webkit-padding-start:var(--chakra-space-6);padding-inline-start:var(--chakra-space-6);-webkit-padding-end:var(--chakra-space-6);padding-inline-end:var(--chakra-space-6);}}@media screen and (min-width: 62em){.css-cofhgu{-webkit-padding-start:var(--chakra-space-8);padding-inline-start:var(--chakra-space-8);-webkit-padding-end:var(--chakra-space-8);padding-inline-end:var(--chakra-space-8);}}</style><div class="css-cofhgu"><style data-emotion="css 2p1vlk">.css-2p1vlk{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;grid-gap:var(--chakra-space-5);}</style><div class="css-2p1vlk"><style data-emotion="css t1f4eu">.css-t1f4eu{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:stretch;-webkit-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;grid-gap:var(--chakra-space-14);width:var(--chakra-sizes-full);padding-top:var(--chakra-space-10);padding-bottom:var(--chakra-space-10);}@media screen and (min-width: 30em){.css-t1f4eu{padding-top:var(--chakra-space-14);padding-bottom:var(--chakra-space-14);}}</style><header class="css-t1f4eu"><style data-emotion="css ku6322">.css-ku6322{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;text-align:center;}</style><div class="css-ku6322"><style data-emotion="css u6v8er">.css-u6v8er{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;}</style><div class="css-u6v8er"><style data-emotion="css 149jb5b">.css-149jb5b{transition-property:var(--chakra-transition-property-common);transition-duration:var(--chakra-transition-duration-fast);transition-timing-function:var(--chakra-transition-easing-ease-out);cursor:pointer;-webkit-text-decoration:none;text-decoration:none;outline:2px solid transparent;outline-offset:2px;color:inherit;}.css-149jb5b:hover,.css-149jb5b[data-hover]{-webkit-text-decoration:none;text-decoration:none;}.chakra-ui-light .css-149jb5b:hover,.chakra-ui-light .css-149jb5b[data-hover]{color:var(--chakra-colors-brand-600);}.chakra-ui-dark .css-149jb5b:hover,.chakra-ui-dark .css-149jb5b[data-hover]{color:var(--chakra-colors-brand-500);}.css-149jb5b:focus,.css-149jb5b[data-focus]{box-shadow:var(--chakra-shadows-outline);}.chakra-ui-light .css-149jb5b{color:var(--chakra-colors-gray-500);}.chakra-ui-dark .css-149jb5b{color:var(--chakra-colors-gray-200);}</style><a class="chakra-link css-149jb5b" title="Nap Joseph Calub" href="/"><div style="opacity:0;transform:none" class="css-0"><style data-emotion="css etih0s">.css-etih0s{display:none;}@media screen and (min-width: 30em){.css-etih0s{display:block;}}</style><div class="css-etih0s"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="120" height="120" viewBox="0 0 437.000000 437.000000" preserveAspectRatio="xMidYMid meet"><g transform="translate(0.000000,437.000000) scale(0.100000,-0.100000)" fill="#1d4ed8" stroke="none"><path d="M2105 4060 c-125 -73 -266 -155 -440 -255 -241 -138 -482 -278 -655
-378 -85 -49 -230 -132 -322 -185 l-168 -96 0 -962 0 -962 42 -25 c58 -32 350
-201 471 -270 53 -32 140 -82 192 -112 52 -30 139 -80 193 -112 53 -31 153
-88 222 -128 69 -40 168 -97 220 -127 52 -30 140 -81 195 -113 55 -31 105 -62
112 -67 12 -10 38 3 268 137 213 124 294 171 418 242 70 40 184 106 255 146
70 41 171 99 225 130 53 32 141 82 195 114 53 31 148 85 210 121 l112 64 0
962 0 962 -107 61 c-60 33 -164 93 -233 133 -290 168 -464 268 -615 355 -88
51 -205 118 -260 150 -55 32 -174 101 -265 153 -91 52 -169 98 -175 102 -5 3
-46 -14 -90 -40z m-7 -390 l-3 -164 -55 -31 c-64 -36 -382 -220 -655 -378
-104 -61 -236 -137 -292 -170 l-103 -59 0 -638 0 -638 -132 -76 c-73 -41 -141
-78 -151 -82 -16 -6 -17 35 -15 801 l3 808 70 42 c39 23 194 113 345 200 559
322 797 460 885 511 50 29 93 49 98 45 4 -4 6 -81 5 -171z m530 -21 c191 -111
363 -210 382 -221 317 -180 570 -328 570 -333 0 -2 -55 -36 -122 -76 -68 -39
-153 -89 -190 -111 l-68 -40 0 -637 c0 -595 -1 -637 -17 -647 -20 -12 -220
-128 -413 -239 -150 -87 -525 -302 -560 -323 -25 -14 -31 -12 -150 59 -69 41
-191 113 -272 159 l-147 85 -1 583 c0 464 3 582 13 576 12 -8 522 -404 846
-657 198 -155 353 -275 382 -296 19 -13 19 -2 19 797 l0 811 -82 49 c-77 45
-153 90 -433 254 l-110 64 -3 172 c-1 95 0 172 3 172 3 0 162 -91 353 -201z
m-390 -323 c20 -13 82 -50 137 -82 55 -32 144 -84 197 -115 53 -32 111 -65
127 -74 l31 -16 0 -579 c0 -319 -3 -580 -7 -580 -5 0 -69 48 -143 106 -74 58
-154 120 -176 137 -23 18 -99 77 -170 133 -71 55 -272 211 -446 347 l-318 246
0 -812 0 -812 153 -89 c83 -49 225 -132 315 -185 l162 -96 0 -167 c0 -131 -3
-168 -13 -168 -7 0 -17 4 -22 9 -6 5 -100 61 -210 124 -110 63 -256 147 -325
187 -69 39 -263 151 -432 248 -170 97 -308 179 -308 182 0 3 57 39 128 79 70
41 154 91 187 111 l60 37 5 639 5 639 80 46 c44 25 125 72 180 104 120 70 382
221 558 322 71 40 139 80 150 88 30 21 51 19 95 -9z m1420 -2012 c-7 -6 -78
-48 -158 -94 -320 -184 -548 -315 -600 -345 -79 -46 -452 -260 -541 -312 -42
-23 -80 -43 -83 -43 -3 0 -6 76 -6 168 l0 168 553 320 552 319 3 637 2 638 27
17 c15 10 79 47 143 83 l115 66 3 -805 c2 -636 -1 -808 -10 -817z"></path></g></svg></div><style data-emotion="css 1x4wznt">.css-1x4wznt{display:block;}@media screen and (min-width: 30em){.css-1x4wznt{display:none;}}</style><div class="css-1x4wznt"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="50" height="50" viewBox="0 0 437.000000 437.000000" preserveAspectRatio="xMidYMid meet"><g transform="translate(0.000000,437.000000) scale(0.100000,-0.100000)" fill="#1d4ed8" stroke="none"><path d="M2105 4060 c-125 -73 -266 -155 -440 -255 -241 -138 -482 -278 -655
-378 -85 -49 -230 -132 -322 -185 l-168 -96 0 -962 0 -962 42 -25 c58 -32 350
-201 471 -270 53 -32 140 -82 192 -112 52 -30 139 -80 193 -112 53 -31 153
-88 222 -128 69 -40 168 -97 220 -127 52 -30 140 -81 195 -113 55 -31 105 -62
112 -67 12 -10 38 3 268 137 213 124 294 171 418 242 70 40 184 106 255 146
70 41 171 99 225 130 53 32 141 82 195 114 53 31 148 85 210 121 l112 64 0
962 0 962 -107 61 c-60 33 -164 93 -233 133 -290 168 -464 268 -615 355 -88
51 -205 118 -260 150 -55 32 -174 101 -265 153 -91 52 -169 98 -175 102 -5 3
-46 -14 -90 -40z m-7 -390 l-3 -164 -55 -31 c-64 -36 -382 -220 -655 -378
-104 -61 -236 -137 -292 -170 l-103 -59 0 -638 0 -638 -132 -76 c-73 -41 -141
-78 -151 -82 -16 -6 -17 35 -15 801 l3 808 70 42 c39 23 194 113 345 200 559
322 797 460 885 511 50 29 93 49 98 45 4 -4 6 -81 5 -171z m530 -21 c191 -111
363 -210 382 -221 317 -180 570 -328 570 -333 0 -2 -55 -36 -122 -76 -68 -39
-153 -89 -190 -111 l-68 -40 0 -637 c0 -595 -1 -637 -17 -647 -20 -12 -220
-128 -413 -239 -150 -87 -525 -302 -560 -323 -25 -14 -31 -12 -150 59 -69 41
-191 113 -272 159 l-147 85 -1 583 c0 464 3 582 13 576 12 -8 522 -404 846
-657 198 -155 353 -275 382 -296 19 -13 19 -2 19 797 l0 811 -82 49 c-77 45
-153 90 -433 254 l-110 64 -3 172 c-1 95 0 172 3 172 3 0 162 -91 353 -201z
m-390 -323 c20 -13 82 -50 137 -82 55 -32 144 -84 197 -115 53 -32 111 -65
127 -74 l31 -16 0 -579 c0 -319 -3 -580 -7 -580 -5 0 -69 48 -143 106 -74 58
-154 120 -176 137 -23 18 -99 77 -170 133 -71 55 -272 211 -446 347 l-318 246
0 -812 0 -812 153 -89 c83 -49 225 -132 315 -185 l162 -96 0 -167 c0 -131 -3
-168 -13 -168 -7 0 -17 4 -22 9 -6 5 -100 61 -210 124 -110 63 -256 147 -325
187 -69 39 -263 151 -432 248 -170 97 -308 179 -308 182 0 3 57 39 128 79 70
41 154 91 187 111 l60 37 5 639 5 639 80 46 c44 25 125 72 180 104 120 70 382
221 558 322 71 40 139 80 150 88 30 21 51 19 95 -9z m1420 -2012 c-7 -6 -78
-48 -158 -94 -320 -184 -548 -315 -600 -345 -79 -46 -452 -260 -541 -312 -42
-23 -80 -43 -83 -43 -3 0 -6 76 -6 168 l0 168 553 320 552 319 3 637 2 638 27
17 c15 10 79 47 143 83 l115 66 3 -805 c2 -636 -1 -808 -10 -817z"></path></g></svg></div></div></a><style data-emotion="css g97fna">.css-g97fna{transition-property:var(--chakra-transition-property-common);transition-duration:var(--chakra-transition-duration-fast);transition-timing-function:var(--chakra-transition-easing-ease-out);cursor:pointer;-webkit-text-decoration:none;text-decoration:none;outline:2px solid transparent;outline-offset:2px;color:inherit;font-size:var(--chakra-fontSizes-3xl);font-weight:var(--chakra-fontWeights-extrabold);}.css-g97fna:hover,.css-g97fna[data-hover]{-webkit-text-decoration:none;text-decoration:none;}.chakra-ui-light .css-g97fna:hover,.chakra-ui-light .css-g97fna[data-hover]{color:var(--chakra-colors-brand-600);}.chakra-ui-dark .css-g97fna:hover,.chakra-ui-dark .css-g97fna[data-hover]{color:var(--chakra-colors-brand-500);}.css-g97fna:focus,.css-g97fna[data-focus]{box-shadow:var(--chakra-shadows-outline);}.chakra-ui-light .css-g97fna{color:var(--chakra-colors-gray-700);}.chakra-ui-dark .css-g97fna{color:var(--chakra-colors-gray-200);}@media screen and (min-width: 30em){.css-g97fna{font-size:var(--chakra-fontSizes-5xl);}}</style><a class="chakra-link css-g97fna" title="Nap Joseph Calub" href="/"><h1 class="chakra-text css-0">Nap Joseph Calub</h1></a></div><style data-emotion="css ibofsm">.css-ibofsm{color:var(--chakra-colors-gray-500);font-size:var(--chakra-fontSizes-xs);}@media screen and (min-width: 30em){.css-ibofsm{font-size:var(--chakra-fontSizes-sm);}}</style><p class="chakra-text css-ibofsm">Software Engineer and Open Source Enthusiast</p></div><nav class="css-0"><style data-emotion="css 13f59tg">.css-13f59tg{list-style-type:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;grid-gap:var(--chakra-space-1);-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;}@media screen and (min-width: 30em){.css-13f59tg{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;grid-gap:var(--chakra-space-2);}}</style><ul role="list" class="css-13f59tg"><li class="css-0"><div class="css-0"><style data-emotion="css 1betfw2">.css-1betfw2{transition-property:var(--chakra-transition-property-common);transition-duration:var(--chakra-transition-duration-fast);transition-timing-function:var(--chakra-transition-easing-ease-out);cursor:pointer;-webkit-text-decoration:none;text-decoration:none;outline:2px solid transparent;outline-offset:2px;color:var(--chakra-colors-gray-100);background:var(--chakra-colors-gray-500);padding-top:var(--chakra-space-1);padding-bottom:var(--chakra-space-1);-webkit-padding-start:var(--chakra-space-4);padding-inline-start:var(--chakra-space-4);-webkit-padding-end:var(--chakra-space-4);padding-inline-end:var(--chakra-space-4);display:block;text-align:center;text-transform:uppercase;font-weight:var(--chakra-fontWeights-bold);font-size:var(--chakra-fontSizes-xs);}.css-1betfw2:hover,.css-1betfw2[data-hover]{background:var(--chakra-colors-brand-600);color:var(--chakra-colors-gray-100);}.css-1betfw2:focus,.css-1betfw2[data-focus]{box-shadow:var(--chakra-shadows-outline);}</style><a class="chakra-link css-1betfw2" href="/">Home</a></div></li><li class="css-0"><div class="css-0"><a class="chakra-link css-1betfw2" href="/posts">Posts</a></div></li><li class="css-0"><div class="css-0"><a target="_blank" rel="noopener noreferrer" class="chakra-link css-1betfw2" href="https://napjose.ph/calub/">View Curriculum Vitae</a></div></li></ul></nav></header><main class="css-0"><style data-emotion="css 18ukh52">.css-18ukh52{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;grid-gap:var(--chakra-space-12);}</style><div class="css-18ukh52"><style data-emotion="css 1c6e035">.css-1c6e035{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;grid-gap:var(--chakra-space-8);}</style><article class="css-1c6e035"><style data-emotion="css 1v0cf74">.css-1v0cf74{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;grid-gap:var(--chakra-space-1);text-align:center;}</style><div class="css-1v0cf74"><style data-emotion="css g7s1vw">.css-g7s1vw{font-family:var(--chakra-fonts-heading);font-weight:var(--chakra-fontWeights-bold);font-size:var(--chakra-fontSizes-3xl);line-height:1.33;}@media screen and (min-width: 48em){.css-g7s1vw{font-size:var(--chakra-fontSizes-4xl);line-height:1.2;}}.chakra-ui-light .css-g7s1vw{color:var(--chakra-colors-gray-800);}.chakra-ui-dark .css-g7s1vw{color:var(--chakra-colors-gray-200);}</style><h2 class="chakra-heading css-g7s1vw">Manually Create Coverage Badges Using GitHub Actions</h2><style data-emotion="css 323ua8">.css-323ua8{font-size:small;}.chakra-ui-light .css-323ua8{color:var(--chakra-colors-gray-500);}.chakra-ui-dark .css-323ua8{color:var(--chakra-colors-gray-600);}</style><p class="chakra-text css-323ua8">Published on<!-- --> <style data-emotion="css 2ygcmq">.css-2ygcmq{font-weight:var(--chakra-fontWeights-semibold);}</style><span class="chakra-text css-2ygcmq" title="2023-04-09T23:31:00Z">April 9, 2023</span></p><style data-emotion="css 1ndtyys">.css-1ndtyys{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;grid-gap:var(--chakra-space-1-5);}</style><div class="css-1ndtyys"><div class="css-0"><style data-emotion="css zn4dku">.css-zn4dku{transition-property:var(--chakra-transition-property-common);transition-duration:var(--chakra-transition-duration-fast);transition-timing-function:var(--chakra-transition-easing-ease-out);cursor:pointer;-webkit-text-decoration:none;text-decoration:none;outline:2px solid transparent;outline-offset:2px;color:var(--chakra-colors-gray-100);background:var(--chakra-colors-brand-500);display:inline-block;border-radius:var(--chakra-radii-xl);font-size:var(--chakra-fontSizes-xs);font-weight:var(--chakra-fontWeights-medium);-webkit-padding-start:var(--chakra-space-3);padding-inline-start:var(--chakra-space-3);-webkit-padding-end:var(--chakra-space-3);padding-inline-end:var(--chakra-space-3);padding-top:var(--chakra-space-1);padding-bottom:var(--chakra-space-1);}.css-zn4dku:hover,.css-zn4dku[data-hover]{background:var(--chakra-colors-brand-600);}.css-zn4dku:focus,.css-zn4dku[data-focus]{box-shadow:var(--chakra-shadows-outline);}</style><a class="chakra-link css-zn4dku" href="/tags/github">GitHub</a></div><div class="css-0"><a class="chakra-link css-zn4dku" href="/tags/github-actions">GitHub Actions</a></div><div class="css-0"><a class="chakra-link css-zn4dku" href="/tags/coverage">Coverage</a></div></div></div><div class="css-2p1vlk"><style data-emotion="css 15pvxu3">.css-15pvxu3{line-height:var(--chakra-lineHeights-tall);}</style><p class="chakra-text css-15pvxu3">Adding a coverage badge to your repository is an excellent way to demonstrate your project&#x27;s test coverage and maintain a high level of code quality. By the end of this guide, you will be able to generate a dynamic coverage badge that updates automatically with each new push to your repository.</p><style data-emotion="css a3uhn4">.css-a3uhn4{font-family:var(--chakra-fonts-heading);font-weight:var(--chakra-fontWeights-bold);font-size:var(--chakra-fontSizes-2xl);line-height:1.33;pointer-events:none;margin-top:var(--chakra-space-2);margin-bottom:var(--chakra-space-2);}@media screen and (min-width: 48em){.css-a3uhn4{font-size:var(--chakra-fontSizes-3xl);line-height:1.2;}}</style><h2 class="chakra-heading css-a3uhn4" id="prerequisites"><style data-emotion="css 1lqsmta">.css-1lqsmta{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;pointer-events:auto;grid-gap:var(--chakra-space-1);}</style><div class="css-1lqsmta"><style data-emotion="css osxns0">.css-osxns0{transition-property:var(--chakra-transition-property-common);transition-duration:var(--chakra-transition-duration-fast);transition-timing-function:var(--chakra-transition-easing-ease-out);cursor:pointer;-webkit-text-decoration:none;text-decoration:none;outline:2px solid transparent;outline-offset:2px;color:inherit;font-weight:var(--chakra-fontWeights-semibold);}.chakra-ui-light .css-osxns0:hover,.chakra-ui-light .css-osxns0[data-hover]{color:var(--chakra-colors-brand-700);}.chakra-ui-dark .css-osxns0:hover,.chakra-ui-dark .css-osxns0[data-hover]{color:var(--chakra-colors-brand-300);}.css-osxns0:focus,.css-osxns0[data-focus]{box-shadow:var(--chakra-shadows-outline);text-decoration-color:var(--chakra-colors-brand-600);border:var(--chakra-borders-none);}.chakra-ui-light .css-osxns0:focus,.chakra-ui-light .css-osxns0[data-focus]{color:var(--chakra-colors-brand-600);}.chakra-ui-dark .css-osxns0:focus,.chakra-ui-dark .css-osxns0[data-focus]{color:var(--chakra-colors-brand-400);}.chakra-ui-light .css-osxns0{color:var(--chakra-colors-brand-600);}.chakra-ui-dark .css-osxns0{color:var(--chakra-colors-brand-400);}</style><a class="chakra-link css-osxns0" aria-label="anchor" href="/posts/manually-create-coverage-badges-using-github-actions#prerequisites">##</a>Prerequisites</div></h2><style data-emotion="css xxa6fs">.css-xxa6fs{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding-left:var(--chakra-space-4);margin-left:var(--chakra-space-2);grid-gap:var(--chakra-space-1);}</style><ul class="css-xxa6fs"><li class="css-0">A <a target="_blank" rel="noopener noreferrer" class="chakra-link css-osxns0" href="https://nodejs.org/">Node.js</a> project with test coverage reports generated by a tool like <a target="_blank" rel="noopener noreferrer" class="chakra-link css-osxns0" href="https://github.com/bcoe/c8">c8</a> or <a target="_blank" rel="noopener noreferrer" class="chakra-link css-osxns0" href="https://github.com/istanbuljs/nyc">Istanbul</a>.</li><li class="css-0">A GitHub repository for your project.</li><li class="css-0"><a target="_blank" rel="noopener noreferrer" class="chakra-link css-osxns0" href="https://github.com/peaceiris/actions-gh-pages#%EF%B8%8F-create-ssh-deploy-key">GitHub deploy keys</a> configured for your repository.</li></ul><p class="chakra-text css-15pvxu3">Let&#x27;s get started!</p><h2 class="chakra-heading css-a3uhn4" id="step-1-install-cheerio"><div class="css-1lqsmta"><a class="chakra-link css-osxns0" aria-label="anchor" href="/posts/manually-create-coverage-badges-using-github-actions#step-1-install-cheerio">##</a>Step 1: Install Cheerio</div></h2><p class="chakra-text css-15pvxu3">Before anything else, make sure you have a coverage report generated by your testing tool. In our case, we will use the HTML report generated by <a target="_blank" rel="noopener noreferrer" class="chakra-link css-osxns0" href="https://github.com/bcoe/c8">c8</a>. This report will look something like this:</p><pre><div class="css-0"><style data-emotion="css dydfze">.css-dydfze{background:#ffffff;margin:var(--chakra-space-1);box-shadow:var(--chakra-shadows-md);}</style><div class="language-html css-dydfze"><style data-emotion="css w12u4j">.css-w12u4j{text-align:center;background:var(--chakra-colors-gray-300);color:var(--chakra-colors-gray-600);font-size:var(--chakra-fontSizes-xs);padding-top:var(--chakra-space-2);padding-bottom:var(--chakra-space-2);-webkit-padding-start:var(--chakra-space-5);padding-inline-start:var(--chakra-space-5);-webkit-padding-end:var(--chakra-space-5);padding-inline-end:var(--chakra-space-5);overflow:auto;}</style><p class="chakra-text css-w12u4j">./coverage/index.html</p><style data-emotion="css 1v8x7dw">.css-1v8x7dw{overflow:auto;}</style><div class="css-1v8x7dw"><style data-emotion="css jg0rw3">.css-jg0rw3{display:inline-block;font-family:var(--chakra-fonts-mono);font-size:var(--chakra-fontSizes-sm);-webkit-padding-start:0.2em;padding-inline-start:0.2em;-webkit-padding-end:0.2em;padding-inline-end:0.2em;border-radius:var(--chakra-radii-sm);background:var(--chakra-colors-gray-100);color:var(--chakra-colors-gray-800);padding:var(--chakra-space-3);}</style><code class="chakra-code prism-code language-html css-jg0rw3" style="color:#000000;background-color:#ffffff"><div class="token-line" style="color:#000000"><span class="chakra-text token doctype punctuation css-0" style="color:rgb(4, 81, 165)">&lt;!</span><span class="chakra-text token doctype doctype-tag css-0">DOCTYPE</span><span class="chakra-text token doctype css-0"> </span><span class="chakra-text token doctype name css-0">html</span><span class="chakra-text token doctype punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0"></span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">html</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)"> </span><span class="chakra-text token tag attr-name css-0" style="color:rgb(255, 0, 0)">lang</span><span class="chakra-text token tag attr-value punctuation attr-equals css-0" style="color:rgb(4, 81, 165)">=</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag attr-value css-0" style="color:rgb(128, 0, 0)">en</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">body</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">    </span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">div</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)"> </span><span class="chakra-text token tag attr-name css-0" style="color:rgb(255, 0, 0)">class</span><span class="chakra-text token tag attr-value punctuation attr-equals css-0" style="color:rgb(4, 81, 165)">=</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag attr-value css-0" style="color:rgb(128, 0, 0)">wrapper</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">      </span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">div</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)"> </span><span class="chakra-text token tag attr-name css-0" style="color:rgb(255, 0, 0)">class</span><span class="chakra-text token tag attr-value punctuation attr-equals css-0" style="color:rgb(4, 81, 165)">=</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag attr-value css-0" style="color:rgb(128, 0, 0)">pad1</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">        </span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">div</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)"> </span><span class="chakra-text token tag attr-name css-0" style="color:rgb(255, 0, 0)">class</span><span class="chakra-text token tag attr-value punctuation attr-equals css-0" style="color:rgb(4, 81, 165)">=</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag attr-value css-0" style="color:rgb(128, 0, 0)">clearfix</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">          </span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">div</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)"> </span><span class="chakra-text token tag attr-name css-0" style="color:rgb(255, 0, 0)">class</span><span class="chakra-text token tag attr-value punctuation attr-equals css-0" style="color:rgb(4, 81, 165)">=</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag attr-value css-0" style="color:rgb(128, 0, 0)">fl pad1y space-right2</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">            </span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">span</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)"> </span><span class="chakra-text token tag attr-name css-0" style="color:rgb(255, 0, 0)">class</span><span class="chakra-text token tag attr-value punctuation attr-equals css-0" style="color:rgb(4, 81, 165)">=</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag attr-value css-0" style="color:rgb(128, 0, 0)">strong</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0">100%</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;/</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">span</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">            </span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">span</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)"> </span><span class="chakra-text token tag attr-name css-0" style="color:rgb(255, 0, 0)">class</span><span class="chakra-text token tag attr-value punctuation attr-equals css-0" style="color:rgb(4, 81, 165)">=</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag attr-value css-0" style="color:rgb(128, 0, 0)">quiet</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0">Statements</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;/</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">span</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">            </span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">span</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)"> </span><span class="chakra-text token tag attr-name css-0" style="color:rgb(255, 0, 0)">class</span><span class="chakra-text token tag attr-value punctuation attr-equals css-0" style="color:rgb(4, 81, 165)">=</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag attr-value css-0" style="color:rgb(128, 0, 0)">fraction</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0">786/786</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;/</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">span</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">          </span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;/</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">div</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">          </span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">div</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)"> </span><span class="chakra-text token tag attr-name css-0" style="color:rgb(255, 0, 0)">class</span><span class="chakra-text token tag attr-value punctuation attr-equals css-0" style="color:rgb(4, 81, 165)">=</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag attr-value css-0" style="color:rgb(128, 0, 0)">fl pad1y space-right2</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">            </span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">span</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)"> </span><span class="chakra-text token tag attr-name css-0" style="color:rgb(255, 0, 0)">class</span><span class="chakra-text token tag attr-value punctuation attr-equals css-0" style="color:rgb(4, 81, 165)">=</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag attr-value css-0" style="color:rgb(128, 0, 0)">strong</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0">100%</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;/</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">span</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">            </span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">span</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)"> </span><span class="chakra-text token tag attr-name css-0" style="color:rgb(255, 0, 0)">class</span><span class="chakra-text token tag attr-value punctuation attr-equals css-0" style="color:rgb(4, 81, 165)">=</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag attr-value css-0" style="color:rgb(128, 0, 0)">quiet</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0">Branches</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;/</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">span</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">            </span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">span</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)"> </span><span class="chakra-text token tag attr-name css-0" style="color:rgb(255, 0, 0)">class</span><span class="chakra-text token tag attr-value punctuation attr-equals css-0" style="color:rgb(4, 81, 165)">=</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag attr-value css-0" style="color:rgb(128, 0, 0)">fraction</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0">74/74</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;/</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">span</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">          </span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;/</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">div</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">          </span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">div</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)"> </span><span class="chakra-text token tag attr-name css-0" style="color:rgb(255, 0, 0)">class</span><span class="chakra-text token tag attr-value punctuation attr-equals css-0" style="color:rgb(4, 81, 165)">=</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag attr-value css-0" style="color:rgb(128, 0, 0)">fl pad1y space-right2</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">            </span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">span</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)"> </span><span class="chakra-text token tag attr-name css-0" style="color:rgb(255, 0, 0)">class</span><span class="chakra-text token tag attr-value punctuation attr-equals css-0" style="color:rgb(4, 81, 165)">=</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag attr-value css-0" style="color:rgb(128, 0, 0)">strong</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0">90.9%</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;/</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">span</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">            </span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">span</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)"> </span><span class="chakra-text token tag attr-name css-0" style="color:rgb(255, 0, 0)">class</span><span class="chakra-text token tag attr-value punctuation attr-equals css-0" style="color:rgb(4, 81, 165)">=</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag attr-value css-0" style="color:rgb(128, 0, 0)">quiet</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0">Functions</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;/</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">span</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">            </span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">span</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)"> </span><span class="chakra-text token tag attr-name css-0" style="color:rgb(255, 0, 0)">class</span><span class="chakra-text token tag attr-value punctuation attr-equals css-0" style="color:rgb(4, 81, 165)">=</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag attr-value css-0" style="color:rgb(128, 0, 0)">fraction</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0">33/33</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;/</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">span</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">          </span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;/</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">div</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">          </span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">div</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)"> </span><span class="chakra-text token tag attr-name css-0" style="color:rgb(255, 0, 0)">class</span><span class="chakra-text token tag attr-value punctuation attr-equals css-0" style="color:rgb(4, 81, 165)">=</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag attr-value css-0" style="color:rgb(128, 0, 0)">fl pad1y space-right2</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">            </span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">span</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)"> </span><span class="chakra-text token tag attr-name css-0" style="color:rgb(255, 0, 0)">class</span><span class="chakra-text token tag attr-value punctuation attr-equals css-0" style="color:rgb(4, 81, 165)">=</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag attr-value css-0" style="color:rgb(128, 0, 0)">strong</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0">100%</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;/</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">span</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">            </span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">span</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)"> </span><span class="chakra-text token tag attr-name css-0" style="color:rgb(255, 0, 0)">class</span><span class="chakra-text token tag attr-value punctuation attr-equals css-0" style="color:rgb(4, 81, 165)">=</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag attr-value css-0" style="color:rgb(128, 0, 0)">quiet</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0">Lines</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;/</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">span</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">            </span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">span</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)"> </span><span class="chakra-text token tag attr-name css-0" style="color:rgb(255, 0, 0)">class</span><span class="chakra-text token tag attr-value punctuation attr-equals css-0" style="color:rgb(4, 81, 165)">=</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag attr-value css-0" style="color:rgb(128, 0, 0)">fraction</span><span class="chakra-text token tag attr-value punctuation css-0" style="color:rgb(4, 81, 165)">&quot;</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0">786/786</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;/</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">span</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">          </span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;/</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">div</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">        </span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;/</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">div</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">      </span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;/</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">div</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">    </span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;/</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">div</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;/</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">body</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0"></span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&lt;/</span><span class="chakra-text token tag css-0" style="color:rgb(128, 0, 0)">html</span><span class="chakra-text token tag punctuation css-0" style="color:rgb(4, 81, 165)">&gt;</span></div></code></div></div></div></pre><p class="chakra-text css-15pvxu3">We will use <a target="_blank" rel="noopener noreferrer" class="chakra-link css-osxns0" href="https://github.com/cheeriojs/cheerio">cheerio</a>, a <a target="_blank" rel="noopener noreferrer" class="chakra-link css-osxns0" href="https://jquery.com/">jQuery</a>-like library for server-side to extract the percentage data from the HTML. Install it to your <style data-emotion="css 1tbv5o3">.css-1tbv5o3{display:inline;font-family:var(--chakra-fonts-mono);font-size:var(--chakra-fontSizes-xs);-webkit-padding-start:0.2em;padding-inline-start:0.2em;-webkit-padding-end:0.2em;padding-inline-end:0.2em;border-radius:var(--chakra-radii-sm);background:var(--chakra-colors-gray-100);color:var(--chakra-colors-gray-800);padding:var(--chakra-space-1);overflow-wrap:break-word;}</style><code class="chakra-code css-1tbv5o3">devDependencies</code> using the package manager of your choice:</p><pre><div class="css-0"><div class="language-bash css-dydfze"><div class="css-1v8x7dw"><code class="chakra-code prism-code language-bash css-jg0rw3" style="color:#000000;background-color:#ffffff"><div class="token-line" style="color:#000000"><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)"># npm</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0"></span><span class="chakra-text token function css-0" style="color:rgb(0, 0, 255)">npm</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token function css-0" style="color:rgb(0, 0, 255)">install</span><span class="chakra-text token plain css-0"> --save-dev cheerio</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0" style="display:inline-block">
</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0"></span><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)"># yarn</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0"></span><span class="chakra-text token function css-0" style="color:rgb(0, 0, 255)">yarn</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token function css-0" style="color:rgb(0, 0, 255)">add</span><span class="chakra-text token plain css-0"> --dev cheerio</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0" style="display:inline-block">
</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0"></span><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)"># pnpm</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0"></span><span class="chakra-text token function css-0" style="color:rgb(0, 0, 255)">pnpm</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token function css-0" style="color:rgb(0, 0, 255)">add</span><span class="chakra-text token plain css-0"> --save-dev cheerio</span></div></code></div></div></div></pre><h2 class="chakra-heading css-a3uhn4" id="step-2-create-a-script-to-extract-coverage-data"><div class="css-1lqsmta"><a class="chakra-link css-osxns0" aria-label="anchor" href="/posts/manually-create-coverage-badges-using-github-actions#step-2-create-a-script-to-extract-coverage-data">##</a>Step 2: Create a Script to Extract Coverage Data</div></h2><p class="chakra-text css-15pvxu3">Next, we need to create the actual script that will extract the coverage data from the HTML report. Create a new file called <code class="chakra-code css-1tbv5o3">./scripts/generate-badges.js</code> and add the following code:</p><pre><div class="css-0"><div class="language-js css-dydfze"><p class="chakra-text css-w12u4j">./scripts/generate-badges.js</p><div class="css-1v8x7dw"><code class="chakra-code prism-code language-js css-jg0rw3" style="color:#000000;background-color:#ffffff"><div class="token-line" style="color:#000000"><span class="chakra-text token keyword css-0" style="color:rgb(0, 0, 255)">const</span><span class="chakra-text token plain css-0"> fs </span><span class="chakra-text token operator css-0" style="color:rgb(0, 0, 0)">=</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token function css-0" style="color:rgb(0, 0, 255)">require</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token string css-0" style="color:rgb(163, 21, 21)">&#x27;fs&#x27;</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0"></span><span class="chakra-text token keyword css-0" style="color:rgb(0, 0, 255)">const</span><span class="chakra-text token plain css-0"> https </span><span class="chakra-text token operator css-0" style="color:rgb(0, 0, 0)">=</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token function css-0" style="color:rgb(0, 0, 255)">require</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token string css-0" style="color:rgb(163, 21, 21)">&#x27;https&#x27;</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0"></span><span class="chakra-text token keyword css-0" style="color:rgb(0, 0, 255)">const</span><span class="chakra-text token plain css-0"> cheerio </span><span class="chakra-text token operator css-0" style="color:rgb(0, 0, 0)">=</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token function css-0" style="color:rgb(0, 0, 255)">require</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token string css-0" style="color:rgb(163, 21, 21)">&#x27;cheerio&#x27;</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0" style="display:inline-block">
</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0"></span><span class="chakra-text token keyword css-0" style="color:rgb(0, 0, 255)">const</span><span class="chakra-text token plain css-0"> coverageFile </span><span class="chakra-text token operator css-0" style="color:rgb(0, 0, 0)">=</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token string css-0" style="color:rgb(163, 21, 21)">&#x27;./coverage/index.html&#x27;</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0"></span><span class="chakra-text token keyword css-0" style="color:rgb(0, 0, 255)">const</span><span class="chakra-text token plain css-0"> badgesDir </span><span class="chakra-text token operator css-0" style="color:rgb(0, 0, 0)">=</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token string css-0" style="color:rgb(163, 21, 21)">&#x27;./coverage/badges&#x27;</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0" style="display:inline-block">
</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0"></span><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)">// Read the coverage HTML file.</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">fs</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">.</span><span class="chakra-text token method function property-access css-0" style="color:rgb(0, 0, 255)">readFile</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token plain css-0">coverageFile</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">,</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token string css-0" style="color:rgb(163, 21, 21)">&#x27;utf-8&#x27;</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">,</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token parameter css-0">err</span><span class="chakra-text token parameter punctuation css-0" style="color:rgb(4, 81, 165)">,</span><span class="chakra-text token parameter css-0"> data</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token arrow operator css-0" style="color:rgb(0, 0, 0)">=&gt;</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token keyword control-flow css-0" style="color:rgb(0, 0, 255)">if</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token plain css-0">err</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">    </span><span class="chakra-text token console class-name css-0" style="color:rgb(38, 127, 153)">console</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">.</span><span class="chakra-text token method function property-access css-0" style="color:rgb(0, 0, 255)">error</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token template-string template-punctuation string css-0" style="color:rgb(163, 21, 21)">`</span><span class="chakra-text token template-string string css-0" style="color:rgb(163, 21, 21)">Error reading coverage file: </span><span class="chakra-text token template-string interpolation interpolation-punctuation punctuation css-0" style="color:rgb(4, 81, 165)">${</span><span class="chakra-text token template-string interpolation css-0">err</span><span class="chakra-text token template-string interpolation interpolation-punctuation punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token template-string template-punctuation string css-0" style="color:rgb(163, 21, 21)">`</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">    process</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">.</span><span class="chakra-text token method function property-access css-0" style="color:rgb(0, 0, 255)">exit</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token number css-0" style="color:rgb(9, 134, 88)">1</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0" style="display:inline-block">
</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)">// Parse the HTML using Cheerio.</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token keyword css-0" style="color:rgb(0, 0, 255)">const</span><span class="chakra-text token plain css-0"> $ </span><span class="chakra-text token operator css-0" style="color:rgb(0, 0, 0)">=</span><span class="chakra-text token plain css-0"> cheerio</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">.</span><span class="chakra-text token method function property-access css-0" style="color:rgb(0, 0, 255)">load</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token plain css-0">data</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0" style="display:inline-block">
</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)">// Construct the shields.io URL for each badge.</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token keyword css-0" style="color:rgb(0, 0, 255)">const</span><span class="chakra-text token plain css-0"> statementsBadgeUrl </span><span class="chakra-text token operator css-0" style="color:rgb(0, 0, 0)">=</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token function css-0" style="color:rgb(0, 0, 255)">generateUrl</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token string css-0" style="color:rgb(163, 21, 21)">&#x27;statements&#x27;</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">,</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token function css-0" style="color:rgb(0, 0, 255)">extractPercentage</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token plain css-0">$</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">,</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token number css-0" style="color:rgb(9, 134, 88)">1</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token keyword css-0" style="color:rgb(0, 0, 255)">const</span><span class="chakra-text token plain css-0"> branchesBadgeUrl </span><span class="chakra-text token operator css-0" style="color:rgb(0, 0, 0)">=</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token function css-0" style="color:rgb(0, 0, 255)">generateUrl</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token string css-0" style="color:rgb(163, 21, 21)">&#x27;branches&#x27;</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">,</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token function css-0" style="color:rgb(0, 0, 255)">extractPercentage</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token plain css-0">$</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">,</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token number css-0" style="color:rgb(9, 134, 88)">2</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token keyword css-0" style="color:rgb(0, 0, 255)">const</span><span class="chakra-text token plain css-0"> functionsBadgeUrl </span><span class="chakra-text token operator css-0" style="color:rgb(0, 0, 0)">=</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token function css-0" style="color:rgb(0, 0, 255)">generateUrl</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token string css-0" style="color:rgb(163, 21, 21)">&#x27;functions&#x27;</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">,</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token function css-0" style="color:rgb(0, 0, 255)">extractPercentage</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token plain css-0">$</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">,</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token number css-0" style="color:rgb(9, 134, 88)">3</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token keyword css-0" style="color:rgb(0, 0, 255)">const</span><span class="chakra-text token plain css-0"> linesBadgeUrl </span><span class="chakra-text token operator css-0" style="color:rgb(0, 0, 0)">=</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token function css-0" style="color:rgb(0, 0, 255)">generateUrl</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token string css-0" style="color:rgb(163, 21, 21)">&#x27;lines&#x27;</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">,</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token function css-0" style="color:rgb(0, 0, 255)">extractPercentage</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token plain css-0">$</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">,</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token number css-0" style="color:rgb(9, 134, 88)">4</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0" style="display:inline-block">
</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)">// Create the badges directory if it does not exist.</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token keyword control-flow css-0" style="color:rgb(0, 0, 255)">if</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token operator css-0" style="color:rgb(0, 0, 0)">!</span><span class="chakra-text token plain css-0">fs</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">.</span><span class="chakra-text token method function property-access css-0" style="color:rgb(0, 0, 255)">existsSync</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token plain css-0">badgesDir</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">    fs</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">.</span><span class="chakra-text token method function property-access css-0" style="color:rgb(0, 0, 255)">mkdirSync</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token plain css-0">badgesDir</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0" style="display:inline-block">
</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)">// Download each badge and save it to the badges directory.</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token function css-0" style="color:rgb(0, 0, 255)">downloadBadge</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token plain css-0">statementsBadgeUrl</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">,</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token template-string template-punctuation string css-0" style="color:rgb(163, 21, 21)">`</span><span class="chakra-text token template-string interpolation interpolation-punctuation punctuation css-0" style="color:rgb(4, 81, 165)">${</span><span class="chakra-text token template-string interpolation css-0">badgesDir</span><span class="chakra-text token template-string interpolation interpolation-punctuation punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token template-string string css-0" style="color:rgb(163, 21, 21)">/statements.svg</span><span class="chakra-text token template-string template-punctuation string css-0" style="color:rgb(163, 21, 21)">`</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token function css-0" style="color:rgb(0, 0, 255)">downloadBadge</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token plain css-0">branchesBadgeUrl</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">,</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token template-string template-punctuation string css-0" style="color:rgb(163, 21, 21)">`</span><span class="chakra-text token template-string interpolation interpolation-punctuation punctuation css-0" style="color:rgb(4, 81, 165)">${</span><span class="chakra-text token template-string interpolation css-0">badgesDir</span><span class="chakra-text token template-string interpolation interpolation-punctuation punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token template-string string css-0" style="color:rgb(163, 21, 21)">/branches.svg</span><span class="chakra-text token template-string template-punctuation string css-0" style="color:rgb(163, 21, 21)">`</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token function css-0" style="color:rgb(0, 0, 255)">downloadBadge</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token plain css-0">functionsBadgeUrl</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">,</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token template-string template-punctuation string css-0" style="color:rgb(163, 21, 21)">`</span><span class="chakra-text token template-string interpolation interpolation-punctuation punctuation css-0" style="color:rgb(4, 81, 165)">${</span><span class="chakra-text token template-string interpolation css-0">badgesDir</span><span class="chakra-text token template-string interpolation interpolation-punctuation punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token template-string string css-0" style="color:rgb(163, 21, 21)">/functions.svg</span><span class="chakra-text token template-string template-punctuation string css-0" style="color:rgb(163, 21, 21)">`</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token function css-0" style="color:rgb(0, 0, 255)">downloadBadge</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token plain css-0">linesBadgeUrl</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">,</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token template-string template-punctuation string css-0" style="color:rgb(163, 21, 21)">`</span><span class="chakra-text token template-string interpolation interpolation-punctuation punctuation css-0" style="color:rgb(4, 81, 165)">${</span><span class="chakra-text token template-string interpolation css-0">badgesDir</span><span class="chakra-text token template-string interpolation interpolation-punctuation punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token template-string string css-0" style="color:rgb(163, 21, 21)">/lines.svg</span><span class="chakra-text token template-string template-punctuation string css-0" style="color:rgb(163, 21, 21)">`</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0" style="display:inline-block">
</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token console class-name css-0" style="color:rgb(38, 127, 153)">console</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">.</span><span class="chakra-text token method function property-access css-0" style="color:rgb(0, 0, 255)">log</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token string css-0" style="color:rgb(163, 21, 21)">&#x27;Code coverage badges created successfully.&#x27;</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0"></span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0" style="display:inline-block">
</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0"></span><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)">/**</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)"> * Generate a shields.io URL for a badge.</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)"> *</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)"> * Change the color of the badge based on the percentage.</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)"> *</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)"> * @param {string} text The text to display on the badge.</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)"> * @param {number} percentage The percentage to display on the badge.</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)"> * @returns {string} The shields.io URL.</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)"> */</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0"></span><span class="chakra-text token keyword css-0" style="color:rgb(0, 0, 255)">const</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token function-variable function css-0" style="color:rgb(0, 0, 255)">generateUrl</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token operator css-0" style="color:rgb(0, 0, 0)">=</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token parameter css-0">text</span><span class="chakra-text token parameter punctuation css-0" style="color:rgb(4, 81, 165)">,</span><span class="chakra-text token parameter css-0"> percentage</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token arrow operator css-0" style="color:rgb(0, 0, 0)">=&gt;</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token keyword css-0" style="color:rgb(0, 0, 255)">let</span><span class="chakra-text token plain css-0"> color </span><span class="chakra-text token operator css-0" style="color:rgb(0, 0, 0)">=</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token string css-0" style="color:rgb(163, 21, 21)">&#x27;brightgreen&#x27;</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token keyword control-flow css-0" style="color:rgb(0, 0, 255)">if</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token plain css-0">percentage </span><span class="chakra-text token operator css-0" style="color:rgb(0, 0, 0)">&lt;</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token number css-0" style="color:rgb(9, 134, 88)">70</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">    color </span><span class="chakra-text token operator css-0" style="color:rgb(0, 0, 0)">=</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token string css-0" style="color:rgb(163, 21, 21)">&#x27;red&#x27;</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token keyword control-flow css-0" style="color:rgb(0, 0, 255)">else</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token keyword control-flow css-0" style="color:rgb(0, 0, 255)">if</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token plain css-0">percentage </span><span class="chakra-text token operator css-0" style="color:rgb(0, 0, 0)">&lt;</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token number css-0" style="color:rgb(9, 134, 88)">80</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">    color </span><span class="chakra-text token operator css-0" style="color:rgb(0, 0, 0)">=</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token string css-0" style="color:rgb(163, 21, 21)">&#x27;yellow&#x27;</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token keyword control-flow css-0" style="color:rgb(0, 0, 255)">else</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token keyword control-flow css-0" style="color:rgb(0, 0, 255)">if</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token plain css-0">percentage </span><span class="chakra-text token operator css-0" style="color:rgb(0, 0, 0)">&lt;</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token number css-0" style="color:rgb(9, 134, 88)">90</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">    color </span><span class="chakra-text token operator css-0" style="color:rgb(0, 0, 0)">=</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token string css-0" style="color:rgb(163, 21, 21)">&#x27;orange&#x27;</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token keyword control-flow css-0" style="color:rgb(0, 0, 255)">return</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token template-string template-punctuation string css-0" style="color:rgb(163, 21, 21)">`</span><span class="chakra-text token template-string string css-0" style="color:rgb(163, 21, 21)">https://img.shields.io/badge/coverage%3A</span><span class="chakra-text token template-string interpolation interpolation-punctuation punctuation css-0" style="color:rgb(4, 81, 165)">${</span><span class="chakra-text token template-string interpolation css-0">text</span><span class="chakra-text token template-string interpolation interpolation-punctuation punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token template-string string css-0" style="color:rgb(163, 21, 21)">-</span><span class="chakra-text token template-string interpolation interpolation-punctuation punctuation css-0" style="color:rgb(4, 81, 165)">${</span><span class="chakra-text token template-string interpolation css-0">percentage</span><span class="chakra-text token template-string interpolation interpolation-punctuation punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token template-string string css-0" style="color:rgb(163, 21, 21)">%25-</span><span class="chakra-text token template-string interpolation interpolation-punctuation punctuation css-0" style="color:rgb(4, 81, 165)">${</span><span class="chakra-text token template-string interpolation css-0">color</span><span class="chakra-text token template-string interpolation interpolation-punctuation punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token template-string string css-0" style="color:rgb(163, 21, 21)">.svg</span><span class="chakra-text token template-string template-punctuation string css-0" style="color:rgb(163, 21, 21)">`</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0"></span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0" style="display:inline-block">
</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0"></span><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)">/**</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)"> * Extract the code coverage percentage from the HTML.</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)"> * @param {Cheerio} $ The Cheerio object.</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)"> * @param {number} index The index of the element to extract.</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)"> */</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0"></span><span class="chakra-text token keyword css-0" style="color:rgb(0, 0, 255)">const</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token function-variable function css-0" style="color:rgb(0, 0, 255)">extractPercentage</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token operator css-0" style="color:rgb(0, 0, 0)">=</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token parameter css-0">$</span><span class="chakra-text token parameter punctuation css-0" style="color:rgb(4, 81, 165)">,</span><span class="chakra-text token parameter css-0"> index</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token arrow operator css-0" style="color:rgb(0, 0, 0)">=&gt;</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token keyword css-0" style="color:rgb(0, 0, 255)">const</span><span class="chakra-text token plain css-0"> text </span><span class="chakra-text token operator css-0" style="color:rgb(0, 0, 0)">=</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token function css-0" style="color:rgb(0, 0, 255)">$</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token template-string template-punctuation string css-0" style="color:rgb(163, 21, 21)">`</span><span class="chakra-text token template-string string css-0" style="color:rgb(163, 21, 21)">.pad1y:nth-child(</span><span class="chakra-text token template-string interpolation interpolation-punctuation punctuation css-0" style="color:rgb(4, 81, 165)">${</span><span class="chakra-text token template-string interpolation css-0">index</span><span class="chakra-text token template-string interpolation interpolation-punctuation punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token template-string string css-0" style="color:rgb(163, 21, 21)">) span.strong</span><span class="chakra-text token template-string template-punctuation string css-0" style="color:rgb(163, 21, 21)">`</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token operator css-0" style="color:rgb(0, 0, 0)">??</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token string css-0" style="color:rgb(163, 21, 21)">&#x27;0&#x27;</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token keyword css-0" style="color:rgb(0, 0, 255)">const</span><span class="chakra-text token plain css-0"> percentage </span><span class="chakra-text token operator css-0" style="color:rgb(0, 0, 0)">=</span><span class="chakra-text token plain css-0"> text</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">.</span><span class="chakra-text token method function property-access css-0" style="color:rgb(0, 0, 255)">text</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">.</span><span class="chakra-text token method function property-access css-0" style="color:rgb(0, 0, 255)">trim</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">.</span><span class="chakra-text token method function property-access css-0" style="color:rgb(0, 0, 255)">replace</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token string css-0" style="color:rgb(163, 21, 21)">&#x27;%&#x27;</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">,</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token string css-0" style="color:rgb(163, 21, 21)">&#x27;&#x27;</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token keyword control-flow css-0" style="color:rgb(0, 0, 255)">return</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token function css-0" style="color:rgb(0, 0, 255)">parseFloat</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token plain css-0">percentage</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0"></span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0" style="display:inline-block">
</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0"></span><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)">/**</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)"> * Download a badge from shields.io.</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)"> * @param {string} url The shields.io URL.</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)"> * @param {string} filename The filename to save the badge to.</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)"> */</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0"></span><span class="chakra-text token keyword css-0" style="color:rgb(0, 0, 255)">const</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token function-variable function css-0" style="color:rgb(0, 0, 255)">downloadBadge</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token operator css-0" style="color:rgb(0, 0, 0)">=</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token parameter css-0">url</span><span class="chakra-text token parameter punctuation css-0" style="color:rgb(4, 81, 165)">,</span><span class="chakra-text token parameter css-0"> filename</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token arrow operator css-0" style="color:rgb(0, 0, 0)">=&gt;</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  https</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">.</span><span class="chakra-text token method function property-access css-0" style="color:rgb(0, 0, 255)">get</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token plain css-0">url</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">,</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token parameter css-0">res</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token arrow operator css-0" style="color:rgb(0, 0, 0)">=&gt;</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">    </span><span class="chakra-text token keyword control-flow css-0" style="color:rgb(0, 0, 255)">if</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token plain css-0">res</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">.</span><span class="chakra-text token property-access css-0">statusCode</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token operator css-0" style="color:rgb(0, 0, 0)">!==</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token number css-0" style="color:rgb(9, 134, 88)">200</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">      </span><span class="chakra-text token console class-name css-0" style="color:rgb(38, 127, 153)">console</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">.</span><span class="chakra-text token method function property-access css-0" style="color:rgb(0, 0, 255)">error</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token template-string template-punctuation string css-0" style="color:rgb(163, 21, 21)">`</span><span class="chakra-text token template-string string css-0" style="color:rgb(163, 21, 21)">Error downloading badge: </span><span class="chakra-text token template-string interpolation interpolation-punctuation punctuation css-0" style="color:rgb(4, 81, 165)">${</span><span class="chakra-text token template-string interpolation css-0">res</span><span class="chakra-text token template-string interpolation punctuation css-0" style="color:rgb(4, 81, 165)">.</span><span class="chakra-text token template-string interpolation css-0">statusMessage</span><span class="chakra-text token template-string interpolation interpolation-punctuation punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token template-string template-punctuation string css-0" style="color:rgb(163, 21, 21)">`</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">      </span><span class="chakra-text token keyword control-flow css-0" style="color:rgb(0, 0, 255)">return</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">    </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0" style="display:inline-block">
</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">    </span><span class="chakra-text token keyword css-0" style="color:rgb(0, 0, 255)">const</span><span class="chakra-text token plain css-0"> file </span><span class="chakra-text token operator css-0" style="color:rgb(0, 0, 0)">=</span><span class="chakra-text token plain css-0"> fs</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">.</span><span class="chakra-text token method function property-access css-0" style="color:rgb(0, 0, 255)">createWriteStream</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token plain css-0">filename</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">    res</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">.</span><span class="chakra-text token method function property-access css-0" style="color:rgb(0, 0, 255)">pipe</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token plain css-0">file</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">    file</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">.</span><span class="chakra-text token method function property-access css-0" style="color:rgb(0, 0, 255)">on</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token string css-0" style="color:rgb(163, 21, 21)">&#x27;finish&#x27;</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">,</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token arrow operator css-0" style="color:rgb(0, 0, 0)">=&gt;</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">      file</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">.</span><span class="chakra-text token method function property-access css-0" style="color:rgb(0, 0, 255)">close</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">(</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">    </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">)</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0"></span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">;</span></div></code></div></div></div></pre><p class="chakra-text css-15pvxu3">This is a fairly straightforward script that uses Cheerio to parse the HTML report and extract the coverage data. It then uses the data to generate the <a target="_blank" rel="noopener noreferrer" class="chakra-link css-osxns0" href="https://shields.io/">shields.io</a> URLs for each badge type. Finally, it downloads each badge and saves it to the <code class="chakra-code css-1tbv5o3">./coverage/badges</code> directory.</p><p class="chakra-text css-15pvxu3">Update your <code class="chakra-code css-1tbv5o3">package.json</code> to add a new script that will run the <code class="chakra-code css-1tbv5o3">generate-badges.js</code> script:</p><pre><div class="css-0"><div class="language-json css-dydfze"><p class="chakra-text css-w12u4j">package.json</p><div class="css-1v8x7dw"><code class="chakra-code prism-code language-json css-jg0rw3" style="color:#000000;background-color:#ffffff"><div class="token-line" style="color:#000000"><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token property css-0">&quot;scripts&quot;</span><span class="chakra-text token operator css-0" style="color:rgb(0, 0, 0)">:</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">    </span><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)">// ...</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">    </span><span class="chakra-text token property css-0">&quot;generate-badges&quot;</span><span class="chakra-text token operator css-0" style="color:rgb(0, 0, 0)">:</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token string css-0" style="color:rgb(163, 21, 21)">&quot;node ./scripts/generate-badges.js&quot;</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0">  </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0"></span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span></div></code></div></div></div></pre><p class="chakra-text css-15pvxu3">Run the script to generate the badges:</p><pre><div class="css-0"><div class="language-bash css-dydfze"><div class="css-1v8x7dw"><code class="chakra-code prism-code language-bash css-jg0rw3" style="color:#000000;background-color:#ffffff"><div class="token-line" style="color:#000000"><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)"># generate the coverage report first</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0"></span><span class="chakra-text token function css-0" style="color:rgb(0, 0, 255)">pnpm</span><span class="chakra-text token plain css-0"> coverage</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0" style="display:inline-block">
</span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0"></span><span class="chakra-text token comment css-0" style="color:rgb(0, 128, 0)"># generate the badges</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0"></span><span class="chakra-text token function css-0" style="color:rgb(0, 0, 255)">pnpm</span><span class="chakra-text token plain css-0"> generate-badges</span></div></code></div></div></div></pre><h2 class="chakra-heading css-a3uhn4" id="step-3-configure-github-actions"><div class="css-1lqsmta"><a class="chakra-link css-osxns0" aria-label="anchor" href="/posts/manually-create-coverage-badges-using-github-actions#step-3-configure-github-actions">##</a>Step 3: Configure GitHub Actions</div></h2><style data-emotion="css 184wggm">.css-184wggm{width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;overflow:hidden;-webkit-padding-start:var(--chakra-space-3);padding-inline-start:var(--chakra-space-3);-webkit-padding-end:var(--chakra-space-4);padding-inline-end:var(--chakra-space-4);padding-top:var(--chakra-space-3);padding-bottom:var(--chakra-space-3);border-inline-start-width:4px;border-inline-start-color:var(--chakra-colors-blue-500);background:var(--chakra-colors-brand-50);}.css-184wggm >*:first-of-type{margin-top:0;margin-left:8px;}</style><div role="alert" class="chakra-alert css-184wggm"><p class="chakra-text css-15pvxu3"><strong>NOTE</strong>: For this guide, we will use <a target="_blank" rel="noopener noreferrer" class="chakra-link css-osxns0" href="https://pnpm.io/">pnpm</a>, but the commands should be similar for other package managers.</p></div><div role="alert" class="chakra-alert css-184wggm"><p class="chakra-text css-15pvxu3"><strong>NOTE</strong>: This requires that you have an SSH Deploy Key configured for your repository. See <a target="_blank" rel="noopener noreferrer" class="chakra-link css-osxns0" href="https://github.com/peaceiris/actions-gh-pages#%EF%B8%8F-create-ssh-deploy-key">Create SSH Deploy Key</a> for more information.</p></div><p class="chakra-text css-15pvxu3">In your repository, create a <code class="chakra-code css-1tbv5o3">.github/workflows</code> directory if it doesn&#x27;t already exist. Then, create a new YAML file inside the workflows directory called <code class="chakra-code css-1tbv5o3">coverage-badge.yml</code>. This file will define the GitHub Actions workflow that generates the coverage badge.</p><p class="chakra-text css-15pvxu3">Add the following content to <code class="chakra-code css-1tbv5o3">coverage-badge.yml</code>:</p><pre><div class="css-0"><div class="language-yaml css-dydfze"><p class="chakra-text css-w12u4j">.github/workflows/coverage-badge.yml</p><div class="css-1v8x7dw"><code class="chakra-code prism-code language-yaml css-jg0rw3" style="color:#000000;background-color:#ffffff"><div class="token-line" style="color:#000000"><style data-emotion="css 1pe56l3">.css-1pe56l3{display:inline-block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;min-width:20px;margin-right:var(--chakra-space-4);color:var(--chakra-colors-gray-400);text-align:right;}</style><span class="chakra-text css-1pe56l3">1</span><span class="chakra-text token key atrule css-0">name</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> (main) coverage badge</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">2</span><span class="chakra-text token plain css-0" style="display:inline-block">
</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">3</span><span class="chakra-text token plain css-0"></span><span class="chakra-text token key atrule css-0">on</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">4</span><span class="chakra-text token plain css-0">  </span><span class="chakra-text token key atrule css-0">workflow_dispatch</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">5</span><span class="chakra-text token plain css-0">  </span><span class="chakra-text token key atrule css-0">push</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">6</span><span class="chakra-text token plain css-0">    </span><span class="chakra-text token key atrule css-0">branches</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">7</span><span class="chakra-text token plain css-0">      </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0"> main</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">8</span><span class="chakra-text token plain css-0" style="display:inline-block">
</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">9</span><span class="chakra-text token plain css-0"></span><span class="chakra-text token key atrule css-0">jobs</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">10</span><span class="chakra-text token plain css-0">  </span><span class="chakra-text token key atrule css-0">coverage-badge</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">11</span><span class="chakra-text token plain css-0">    </span><span class="chakra-text token key atrule css-0">strategy</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">12</span><span class="chakra-text token plain css-0">      </span><span class="chakra-text token key atrule css-0">matrix</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">13</span><span class="chakra-text token plain css-0">        </span><span class="chakra-text token key atrule css-0">os</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">14</span><span class="chakra-text token plain css-0">          </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0"> ubuntu</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0">latest</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">15</span><span class="chakra-text token plain css-0">        </span><span class="chakra-text token key atrule css-0">node</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">16</span><span class="chakra-text token plain css-0">          </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0"> 18.14.2</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">17</span><span class="chakra-text token plain css-0">        </span><span class="chakra-text token key atrule css-0">pnpm</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">18</span><span class="chakra-text token plain css-0">          </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token number css-0" style="color:rgb(9, 134, 88)">7</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">19</span><span class="chakra-text token plain css-0">    </span><span class="chakra-text token key atrule css-0">runs-on</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> $</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token plain css-0"> matrix.os </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">20</span><span class="chakra-text token plain css-0">    </span><span class="chakra-text token key atrule css-0">steps</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">21</span><span class="chakra-text token plain css-0">      </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token key atrule css-0">name</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> checkout repository</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">22</span><span class="chakra-text token plain css-0">        </span><span class="chakra-text token key atrule css-0">uses</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> actions/checkout@v3</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">23</span><span class="chakra-text token plain css-0">      </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token key atrule css-0">name</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> setup node</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">24</span><span class="chakra-text token plain css-0">        </span><span class="chakra-text token key atrule css-0">uses</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> actions/setup</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0">node@v3</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">25</span><span class="chakra-text token plain css-0">        </span><span class="chakra-text token key atrule css-0">with</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">26</span><span class="chakra-text token plain css-0">          </span><span class="chakra-text token key atrule css-0">node-version</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> $</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token plain css-0"> matrix.node </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">27</span><span class="chakra-text token plain css-0">      </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token key atrule css-0">name</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> install pnpm</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">28</span><span class="chakra-text token plain css-0">        </span><span class="chakra-text token key atrule css-0">uses</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> pnpm/action</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0">setup@v2</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">29</span><span class="chakra-text token plain css-0">        </span><span class="chakra-text token key atrule css-0">id</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> pnpm</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0">install</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">30</span><span class="chakra-text token plain css-0">        </span><span class="chakra-text token key atrule css-0">with</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">31</span><span class="chakra-text token plain css-0">          </span><span class="chakra-text token key atrule css-0">version</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> $</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token plain css-0"> matrix.pnpm </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">32</span><span class="chakra-text token plain css-0">          </span><span class="chakra-text token key atrule css-0">run_install</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token boolean important css-0">false</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">33</span><span class="chakra-text token plain css-0">      </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token key atrule css-0">name</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> get pnpm store directory</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">34</span><span class="chakra-text token plain css-0">        </span><span class="chakra-text token key atrule css-0">id</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> pnpm</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0">cache</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">35</span><span class="chakra-text token plain css-0">        </span><span class="chakra-text token key atrule css-0">shell</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> bash</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">36</span><span class="chakra-text token plain css-0">        </span><span class="chakra-text token key atrule css-0">run</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">|</span><span class="chakra-text token scalar string css-0" style="color:rgb(163, 21, 21)"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">37</span><span class="chakra-text token scalar string css-0" style="color:rgb(163, 21, 21)">          echo &quot;STORE_PATH=$(pnpm store path)&quot; &gt;&gt; $GITHUB_OUTPUT</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">38</span><span class="chakra-text token plain css-0">      </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token key atrule css-0">name</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> Setup pnpm cache</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">39</span><span class="chakra-text token plain css-0">        </span><span class="chakra-text token key atrule css-0">uses</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> actions/cache@v3</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">40</span><span class="chakra-text token plain css-0">        </span><span class="chakra-text token key atrule css-0">with</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">41</span><span class="chakra-text token plain css-0">          </span><span class="chakra-text token key atrule css-0">path</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> $</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token plain css-0"> steps.pnpm</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0">cache.outputs.STORE_PATH </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">42</span><span class="chakra-text token plain css-0">          </span><span class="chakra-text token key atrule css-0">key</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> $</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token plain css-0"> runner.os </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0">pnpm</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0">store</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0">$</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token plain css-0"> hashFiles(&#x27;</span><span class="chakra-text token important css-0">**/pnpm-lock.yaml&#x27;)</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">43</span><span class="chakra-text token plain css-0">          </span><span class="chakra-text token key atrule css-0">restore-keys</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">|</span><span class="chakra-text token scalar string css-0" style="color:rgb(163, 21, 21)"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">44</span><span class="chakra-text token scalar string css-0" style="color:rgb(163, 21, 21)">            ${{ runner.os }}-pnpm-store-</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">45</span><span class="chakra-text token plain css-0">      </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token key atrule css-0">name</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> install dependencies</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">46</span><span class="chakra-text token plain css-0">        </span><span class="chakra-text token key atrule css-0">run</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> pnpm install</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">47</span><span class="chakra-text token plain css-0">      </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token key atrule css-0">name</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> run coverage</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">48</span><span class="chakra-text token plain css-0">        </span><span class="chakra-text token key atrule css-0">run</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> pnpm coverage</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">49</span><span class="chakra-text token plain css-0">      </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token key atrule css-0">name</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> generate badges</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">50</span><span class="chakra-text token plain css-0">        </span><span class="chakra-text token key atrule css-0">run</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> pnpm generate</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0">badges</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">51</span><span class="chakra-text token plain css-0">      </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token key atrule css-0">name</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> push coverage artifacts to another branch</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">52</span><span class="chakra-text token plain css-0">        </span><span class="chakra-text token key atrule css-0">uses</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> peaceiris/actions</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0">gh</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0">pages@v3</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">53</span><span class="chakra-text token plain css-0">        </span><span class="chakra-text token key atrule css-0">with</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">54</span><span class="chakra-text token plain css-0">          </span><span class="chakra-text token key atrule css-0">deploy_key</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> $</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token plain css-0"> secrets.COVERAGE_DEPLOY_KEY </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">55</span><span class="chakra-text token plain css-0">          </span><span class="chakra-text token key atrule css-0">publish_dir</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> ./coverage</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">56</span><span class="chakra-text token plain css-0">          </span><span class="chakra-text token key atrule css-0">publish_branch</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> coverage</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">57</span><span class="chakra-text token plain css-0">          </span><span class="chakra-text token key atrule css-0">allow_empty_commit</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token boolean important css-0">true</span></div></code></div></div></div></pre><p class="chakra-text css-15pvxu3">Let&#x27;s break down the workflow into its various sections:</p><pre><div class="css-0"><div class="language-yaml css-dydfze"><div class="css-1v8x7dw"><code class="chakra-code prism-code language-yaml css-jg0rw3" style="color:#000000;background-color:#ffffff"><div class="token-line" style="color:#000000"><style data-emotion="css ihk898">.css-ihk898{display:inline-block;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;min-width:10px;margin-right:var(--chakra-space-4);color:var(--chakra-colors-gray-400);text-align:right;}</style><span class="chakra-text css-ihk898">1</span><span class="chakra-text token key atrule css-0">on</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-ihk898">2</span><span class="chakra-text token plain css-0">  </span><span class="chakra-text token key atrule css-0">workflow_dispatch</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-ihk898">3</span><span class="chakra-text token plain css-0">  </span><span class="chakra-text token key atrule css-0">push</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-ihk898">4</span><span class="chakra-text token plain css-0">    </span><span class="chakra-text token key atrule css-0">branches</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-ihk898">5</span><span class="chakra-text token plain css-0">      </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0"> main</span></div></code></div></div></div></pre><p class="chakra-text css-15pvxu3">The workflow is triggered when there&#x27;s a push to the <code class="chakra-code css-1tbv5o3">main</code> branch or can be triggered manually (<a target="_blank" rel="noopener noreferrer" class="chakra-link css-osxns0" href="https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows#workflow_dispatch"><code class="chakra-code css-1tbv5o3">workflow_dispatch</code></a>).</p><pre><div class="css-0"><div class="language-yaml css-dydfze"><div class="css-1v8x7dw"><code class="chakra-code prism-code language-yaml css-jg0rw3" style="color:#000000;background-color:#ffffff"><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">1</span><span class="chakra-text token key atrule css-0">jobs</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">2</span><span class="chakra-text token plain css-0">  </span><span class="chakra-text token key atrule css-0">covera</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">3</span><span class="chakra-text token plain css-0">    </span><span class="chakra-text token key atrule css-0">strategy</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">4</span><span class="chakra-text token plain css-0">      </span><span class="chakra-text token key atrule css-0">matrix</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">5</span><span class="chakra-text token plain css-0">        </span><span class="chakra-text token key atrule css-0">os</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">6</span><span class="chakra-text token plain css-0">          </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0"> ubuntu</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0">latest</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">7</span><span class="chakra-text token plain css-0">        </span><span class="chakra-text token key atrule css-0">node</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">8</span><span class="chakra-text token plain css-0">          </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0"> 18.14.2</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">9</span><span class="chakra-text token plain css-0">        </span><span class="chakra-text token key atrule css-0">pnpm</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">10</span><span class="chakra-text token plain css-0">          </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token number css-0" style="color:rgb(9, 134, 88)">7</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">11</span><span class="chakra-text token plain css-0">    </span><span class="chakra-text token key atrule css-0">runs-on</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> $</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token plain css-0"> matrix.os </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span></div></code></div></div></div></pre><p class="chakra-text css-15pvxu3">We&#x27;re using a matrix strategy to run the workflow on multiple operating systems, Node.js versions, and pnpm versions. For our purpose, we will only use one version of each, but this is a good practice to follow.</p><pre><div class="css-0"><div class="language-yaml css-dydfze"><div class="css-1v8x7dw"><code class="chakra-code prism-code language-yaml css-jg0rw3" style="color:#000000;background-color:#ffffff"><div class="token-line" style="color:#000000"><span class="chakra-text css-ihk898">1</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token key atrule css-0">name</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> checkout repository</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-ihk898">2</span><span class="chakra-text token plain css-0">  </span><span class="chakra-text token key atrule css-0">uses</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> actions/checkout@v3</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-ihk898">3</span><span class="chakra-text token plain css-0"></span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token key atrule css-0">name</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> setup node</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-ihk898">4</span><span class="chakra-text token plain css-0">  </span><span class="chakra-text token key atrule css-0">uses</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> actions/setup</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0">node@v3</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-ihk898">5</span><span class="chakra-text token plain css-0">  </span><span class="chakra-text token key atrule css-0">with</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-ihk898">6</span><span class="chakra-text token plain css-0">    </span><span class="chakra-text token key atrule css-0">node-version</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> $</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token plain css-0"> matrix.node </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span></div></code></div></div></div></pre><p class="chakra-text css-15pvxu3">This step checks out your repository using the <a target="_blank" rel="noopener noreferrer" class="chakra-link css-osxns0" href="https://github.com/actions/checkout">actions/checkout</a> action. Then, it sets up Node.js using the <a target="_blank" rel="noopener noreferrer" class="chakra-link css-osxns0" href="https://github.com/actions/setup-node">actions/setup-node</a> action.</p><pre><div class="css-0"><div class="language-yaml css-dydfze"><div class="css-1v8x7dw"><code class="chakra-code prism-code language-yaml css-jg0rw3" style="color:#000000;background-color:#ffffff"><div class="token-line" style="color:#000000"><span class="chakra-text css-ihk898">1</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token key atrule css-0">name</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> install pnpm</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-ihk898">2</span><span class="chakra-text token plain css-0">  </span><span class="chakra-text token key atrule css-0">uses</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> pnpm/action</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0">setup@v2</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-ihk898">3</span><span class="chakra-text token plain css-0">  </span><span class="chakra-text token key atrule css-0">id</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> pnpm</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0">install</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-ihk898">4</span><span class="chakra-text token plain css-0">  </span><span class="chakra-text token key atrule css-0">with</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-ihk898">5</span><span class="chakra-text token plain css-0">    </span><span class="chakra-text token key atrule css-0">version</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> $</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token plain css-0"> matrix.pnpm </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-ihk898">6</span><span class="chakra-text token plain css-0">    </span><span class="chakra-text token key atrule css-0">run_install</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token boolean important css-0">false</span></div></code></div></div></div></pre><p class="chakra-text css-15pvxu3">This step installs pnpm using the <a target="_blank" rel="noopener noreferrer" class="chakra-link css-osxns0" href="https://github.com/pnpm/action-setup">pnpm/action-setup</a> action and the specified pnpm version from the matrix. We&#x27;re not installing any dependencies yet, so we don&#x27;t need to run <code class="chakra-code css-1tbv5o3">pnpm install</code>.</p><pre><div class="css-0"><div class="language-yaml css-dydfze"><div class="css-1v8x7dw"><code class="chakra-code prism-code language-yaml css-jg0rw3" style="color:#000000;background-color:#ffffff"><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">1</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token key atrule css-0">name</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> get pnpm store directory</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">2</span><span class="chakra-text token plain css-0">  </span><span class="chakra-text token key atrule css-0">id</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> pnpm</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0">cache</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">3</span><span class="chakra-text token plain css-0">  </span><span class="chakra-text token key atrule css-0">shell</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> bash</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">4</span><span class="chakra-text token plain css-0">  </span><span class="chakra-text token key atrule css-0">run</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">|</span><span class="chakra-text token scalar string css-0" style="color:rgb(163, 21, 21)"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">5</span><span class="chakra-text token scalar string css-0" style="color:rgb(163, 21, 21)">    echo &quot;STORE_PATH=$(pnpm store path)&quot; &gt;&gt; $GITHUB_OUTPUT</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">6</span><span class="chakra-text token plain css-0"></span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token key atrule css-0">name</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> Setup pnpm cache</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">7</span><span class="chakra-text token plain css-0">  </span><span class="chakra-text token key atrule css-0">uses</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> actions/cache@v3</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">8</span><span class="chakra-text token plain css-0">  </span><span class="chakra-text token key atrule css-0">with</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">9</span><span class="chakra-text token plain css-0">    </span><span class="chakra-text token key atrule css-0">path</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> $</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token plain css-0"> steps.pnpm</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0">cache.outputs.STORE_PATH </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">10</span><span class="chakra-text token plain css-0">    </span><span class="chakra-text token key atrule css-0">key</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> $</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token plain css-0"> runner.os </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0">pnpm</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0">store</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0">$</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token plain css-0"> hashFiles(&#x27;</span><span class="chakra-text token important css-0">**/pnpm-lock.yaml&#x27;)</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">11</span><span class="chakra-text token plain css-0">    </span><span class="chakra-text token key atrule css-0">restore-keys</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">|</span><span class="chakra-text token scalar string css-0" style="color:rgb(163, 21, 21)"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">12</span><span class="chakra-text token scalar string css-0" style="color:rgb(163, 21, 21)">      ${{ runner.os }}-pnpm-store-</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">13</span><span class="chakra-text token plain css-0"></span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token key atrule css-0">name</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> install dependencies</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-1pe56l3">14</span><span class="chakra-text token plain css-0">  </span><span class="chakra-text token key atrule css-0">run</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> pnpm install</span></div></code></div></div></div></pre><p class="chakra-text css-15pvxu3">These steps will use the cache from <a target="_blank" rel="noopener noreferrer" class="chakra-link css-osxns0" href="https://github.com/actions/cache">actions/cache</a> and install the project&#x27;s dependencies using pnpm. We&#x27;re using the cache to reduce installation time and to avoid downloading the same dependencies multiple times.</p><pre><div class="css-0"><div class="language-yaml css-dydfze"><div class="css-1v8x7dw"><code class="chakra-code prism-code language-yaml css-jg0rw3" style="color:#000000;background-color:#ffffff"><div class="token-line" style="color:#000000"><span class="chakra-text css-ihk898">1</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token key atrule css-0">name</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> run coverage</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-ihk898">2</span><span class="chakra-text token plain css-0">  </span><span class="chakra-text token key atrule css-0">run</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> pnpm coverage</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-ihk898">3</span><span class="chakra-text token plain css-0"></span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token key atrule css-0">name</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> generate badges</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-ihk898">4</span><span class="chakra-text token plain css-0">  </span><span class="chakra-text token key atrule css-0">run</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> pnpm generate</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0">badges</span></div></code></div></div></div></pre><p class="chakra-text css-15pvxu3">This step runs the <code class="chakra-code css-1tbv5o3">coverage</code> script, which should generate a coverage report. Then, it runs the <code class="chakra-code css-1tbv5o3">generate-badges</code> script, which should generate the coverage badges.</p><pre><div class="css-0"><div class="language-yaml css-dydfze"><div class="css-1v8x7dw"><code class="chakra-code prism-code language-yaml css-jg0rw3" style="color:#000000;background-color:#ffffff"><div class="token-line" style="color:#000000"><span class="chakra-text css-ihk898">1</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token key atrule css-0">name</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> push coverage artifacts to another branch</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-ihk898">2</span><span class="chakra-text token plain css-0">  </span><span class="chakra-text token key atrule css-0">uses</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> peaceiris/actions</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0">gh</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">-</span><span class="chakra-text token plain css-0">pages@v3</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-ihk898">3</span><span class="chakra-text token plain css-0">  </span><span class="chakra-text token key atrule css-0">with</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-ihk898">4</span><span class="chakra-text token plain css-0">    </span><span class="chakra-text token key atrule css-0">deploy_key</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> $</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">{</span><span class="chakra-text token plain css-0"> secrets.COVERAGE_DEPLOY_KEY </span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">}</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-ihk898">5</span><span class="chakra-text token plain css-0">    </span><span class="chakra-text token key atrule css-0">publish_dir</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> ./coverage</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-ihk898">6</span><span class="chakra-text token plain css-0">    </span><span class="chakra-text token key atrule css-0">publish_branch</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> coverage</span></div><div class="token-line" style="color:#000000"><span class="chakra-text css-ihk898">7</span><span class="chakra-text token plain css-0">    </span><span class="chakra-text token key atrule css-0">allow_empty_commit</span><span class="chakra-text token punctuation css-0" style="color:rgb(4, 81, 165)">:</span><span class="chakra-text token plain css-0"> </span><span class="chakra-text token boolean important css-0">true</span></div></code></div></div></div></pre><p class="chakra-text css-15pvxu3">Lastly, this step pushes the coverage artifacts, including the generated badges and the coverage report, to a separate coverage branch in your repository using the <a target="_blank" rel="noopener noreferrer" class="chakra-link css-osxns0" href="https://github.com/peaceiris/actions-gh-pages">peaceiris/actions-gh-pages</a> action.</p><p class="chakra-text css-15pvxu3">Options:</p><ul class="css-xxa6fs"><li class="css-0">The <code class="chakra-code css-1tbv5o3">deploy_key</code> option is set to the <code class="chakra-code css-1tbv5o3">COVERAGE_DEPLOY_KEY</code> secret, which is a Deploy Key stored in your repository settings. This deploy key should have write access to the repository. Follow the instructions from <a target="_blank" rel="noopener noreferrer" class="chakra-link css-osxns0" href="https://github.com/peaceiris/actions-gh-pages#%EF%B8%8F-create-ssh-deploy-key">Create SSH Deploy Key</a> to generate it and add it to your repository.</li><li class="css-0">The <code class="chakra-code css-1tbv5o3">publish_dir</code> is set to <code class="chakra-code css-1tbv5o3">./coverage</code>, which is the directory containing the coverage report and badges.</li><li class="css-0">The <code class="chakra-code css-1tbv5o3">allow_empty_commit</code> option is set to true to allow empty commits if there are no changes in the coverage artifacts.</li><li class="css-0">The <code class="chakra-code css-1tbv5o3">publish_branch</code> is the name of the branch you want to push the coverage artifacts to. It&#x27;s currently set to <code class="chakra-code css-1tbv5o3">coverage</code>, but you can change it to whatever you want.</li></ul><h2 class="chakra-heading css-a3uhn4" id="step-4-add-badge-to-readme"><div class="css-1lqsmta"><a class="chakra-link css-osxns0" aria-label="anchor" href="/posts/manually-create-coverage-badges-using-github-actions#step-4-add-badge-to-readme">##</a>Step 4: Add Badge to README</div></h2><p class="chakra-text css-15pvxu3">To display the coverage badge in your README file, add the following line at the top of your <code class="chakra-code css-1tbv5o3">README.md</code> file:</p><pre><div class="css-0"><div class="language-md css-dydfze"><p class="chakra-text css-w12u4j">README.md</p><div class="css-1v8x7dw"><code class="chakra-code prism-code language-md css-jg0rw3" style="color:#000000;background-color:#ffffff"><div class="token-line" style="color:#000000"><span class="chakra-text token url operator css-0" style="color:rgb(0, 0, 0)">!</span><span class="chakra-text token url css-0">[</span><span class="chakra-text token url content css-0">Coverage: Statements</span><span class="chakra-text token url css-0">](</span><span class="chakra-text token url css-0">https://raw.githubusercontent.com/&lt;USER_NAME&gt;/&lt;REPO_NAME&gt;/&lt;PUBLISH_BRANCH_NAME&gt;/badges/statements.svg</span><span class="chakra-text token url css-0">)</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0"></span><span class="chakra-text token url operator css-0" style="color:rgb(0, 0, 0)">!</span><span class="chakra-text token url css-0">[</span><span class="chakra-text token url content css-0">Coverage: Branches</span><span class="chakra-text token url css-0">](</span><span class="chakra-text token url css-0">https://raw.githubusercontent.com/&lt;USER_NAME&gt;/&lt;REPO_NAME&gt;/&lt;PUBLISH_BRANCH_NAME&gt;/badges/branches.svg</span><span class="chakra-text token url css-0">)</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0"></span><span class="chakra-text token url operator css-0" style="color:rgb(0, 0, 0)">!</span><span class="chakra-text token url css-0">[</span><span class="chakra-text token url content css-0">Coverage: Functions</span><span class="chakra-text token url css-0">](</span><span class="chakra-text token url css-0">https://raw.githubusercontent.com/&lt;USER_NAME&gt;/&lt;REPO_NAME&gt;/&lt;PUBLISH_BRANCH_NAME&gt;/badges/functions.svg</span><span class="chakra-text token url css-0">)</span><span class="chakra-text token plain css-0"></span></div><div class="token-line" style="color:#000000"><span class="chakra-text token plain css-0"></span><span class="chakra-text token url operator css-0" style="color:rgb(0, 0, 0)">!</span><span class="chakra-text token url css-0">[</span><span class="chakra-text token url content css-0">Coverage: Lines</span><span class="chakra-text token url css-0">](</span><span class="chakra-text token url css-0">https://raw.githubusercontent.com/&lt;USER_NAME&gt;/&lt;REPO_NAME&gt;/&lt;PUBLISH_BRANCH_NAME&gt;/badges/lines.svg</span><span class="chakra-text token url css-0">)</span></div></code></div></div></div></pre><p class="chakra-text css-15pvxu3">These lines will render the badges as an image. It should point to the latest badges in your <code class="chakra-code css-1tbv5o3">&lt;PUBLISH_BRANCH_NAME&gt;</code> branch.</p><h2 class="chakra-heading css-a3uhn4" id="conclusion"><div class="css-1lqsmta"><a class="chakra-link css-osxns0" aria-label="anchor" href="/posts/manually-create-coverage-badges-using-github-actions#conclusion">##</a>Conclusion</div></h2><p class="chakra-text css-15pvxu3">Congratulations! You have successfully created a dynamic coverage badge for your Node.js project. This badge will help you showcase your project&#x27;s test coverage and encourage you to maintain a high level of code quality. Don&#x27;t hesitate to customize this workflow to suit your needs and adapt it to different coverage tools and badge styles.</p><p class="chakra-text css-15pvxu3">Happy coding!</p></div></article><div class="css-0"><div></div></div></div></main><style data-emotion="css xi606m">.css-xi606m{text-align:center;}</style><footer class="css-xi606m"><style data-emotion="css 1dcibav">.css-1dcibav{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;padding-top:var(--chakra-space-10);padding-bottom:var(--chakra-space-10);grid-gap:var(--chakra-space-1-5);}@media screen and (min-width: 30em){.css-1dcibav{padding-top:var(--chakra-space-14);padding-bottom:var(--chakra-space-14);}}</style><div class="css-1dcibav"><style data-emotion="css 9826r4">.css-9826r4{color:var(--chakra-colors-gray-400);}</style><p class="chakra-text css-9826r4"> <!-- -->2021<!-- --> <style data-emotion="css v2f32l">.css-v2f32l{transition-property:var(--chakra-transition-property-common);transition-duration:var(--chakra-transition-duration-fast);transition-timing-function:var(--chakra-transition-easing-ease-out);cursor:pointer;-webkit-text-decoration:none;text-decoration:none;outline:2px solid transparent;outline-offset:2px;color:inherit;font-weight:var(--chakra-fontWeights-bold);}.css-v2f32l:hover,.css-v2f32l[data-hover]{-webkit-text-decoration:none;text-decoration:none;}.chakra-ui-light .css-v2f32l:hover,.chakra-ui-light .css-v2f32l[data-hover]{color:var(--chakra-colors-brand-600);}.chakra-ui-dark .css-v2f32l:hover,.chakra-ui-dark .css-v2f32l[data-hover]{color:var(--chakra-colors-brand-500);}.css-v2f32l:focus,.css-v2f32l[data-focus]{box-shadow:var(--chakra-shadows-outline);}.chakra-ui-light .css-v2f32l{color:var(--chakra-colors-gray-500);}.chakra-ui-dark .css-v2f32l{color:var(--chakra-colors-gray-200);}</style><a class="chakra-link css-v2f32l" href="/">Nap Joseph Calub</a>. All rights reserved.</p><style data-emotion="css v1ux2z">.css-v1ux2z{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;grid-gap:var(--chakra-space-2);}</style><div class="css-v1ux2z"><style data-emotion="css 1cdif8o">.css-1cdif8o{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;appearance:none;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;white-space:nowrap;vertical-align:middle;outline:2px solid transparent;outline-offset:2px;width:auto;line-height:1.2;border-radius:var(--chakra-radii-full);font-weight:var(--chakra-fontWeights-semibold);transition-property:var(--chakra-transition-property-common);transition-duration:var(--chakra-transition-duration-normal);height:var(--chakra-sizes-10);min-width:var(--chakra-sizes-10);font-size:var(--chakra-fontSizes-md);-webkit-padding-start:var(--chakra-space-4);padding-inline-start:var(--chakra-space-4);-webkit-padding-end:var(--chakra-space-4);padding-inline-end:var(--chakra-space-4);color:var(--chakra-colors-gray-300);padding:0px;}.css-1cdif8o:focus,.css-1cdif8o[data-focus]{color:var(--chakra-colors-gray-600);background:var(--chakra-colors-gray-100);}.css-1cdif8o[disabled],.css-1cdif8o[aria-disabled=true],.css-1cdif8o[data-disabled]{opacity:0.4;cursor:not-allowed;box-shadow:var(--chakra-shadows-none);}.chakra-ui-light .css-1cdif8o:hover,.chakra-ui-light .css-1cdif8o[data-hover]{color:var(--chakra-colors-brand-600);}.chakra-ui-dark .css-1cdif8o:hover,.chakra-ui-dark .css-1cdif8o[data-hover]{background:var(--chakra-colors-brand-500);color:var(--chakra-colors-gray-300);}.css-1cdif8o:active,.css-1cdif8o[data-active]{background:var(--chakra-colors-gray-200);}</style><button type="button" class="chakra-button css-1cdif8o" aria-label="GitHub" title="GitHub"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" aria-hidden="true" focusable="false" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></button><button type="button" class="chakra-button css-1cdif8o" aria-label="Keybase" title="Keybase"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" aria-hidden="true" focusable="false" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M286.17 419a18 18 0 1 0 18 18 18 18 0 0 0-18-18zm111.92-147.6c-9.5-14.62-39.37-52.45-87.26-73.71q-9.1-4.06-18.38-7.27a78.43 78.43 0 0 0-47.88-104.13c-12.41-4.1-23.33-6-32.41-5.77-.6-2-1.89-11 9.4-35L198.66 32l-5.48 7.56c-8.69 12.06-16.92 23.55-24.34 34.89a51 51 0 0 0-8.29-1.25c-41.53-2.45-39-2.33-41.06-2.33-50.61 0-50.75 52.12-50.75 45.88l-2.36 36.68c-1.61 27 19.75 50.21 47.63 51.85l8.93.54a214 214 0 0 0-46.29 35.54C14 304.66 14 374 14 429.77v33.64l23.32-29.8a148.6 148.6 0 0 0 14.56 37.56c5.78 10.13 14.87 9.45 19.64 7.33 4.21-1.87 10-6.92 3.75-20.11a178.29 178.29 0 0 1-15.76-53.13l46.82-59.83-24.66 74.11c58.23-42.4 157.38-61.76 236.25-38.59 34.2 10.05 67.45.69 84.74-23.84.72-1 1.2-2.16 1.85-3.22a156.09 156.09 0 0 1 2.8 28.43c0 23.3-3.69 52.93-14.88 81.64-2.52 6.46 1.76 14.5 8.6 15.74 7.42 1.57 15.33-3.1 18.37-11.15C429 443 434 414 434 382.32c0-38.58-13-77.46-35.91-110.92zM142.37 128.58l-15.7-.93-1.39 21.79 13.13.78a93 93 0 0 0 .32 19.57l-22.38-1.34a12.28 12.28 0 0 1-11.76-12.79L107 119c1-12.17 13.87-11.27 13.26-11.32l29.11 1.73a144.35 144.35 0 0 0-7 19.17zm148.42 172.18a10.51 10.51 0 0 1-14.35-1.39l-9.68-11.49-34.42 27a8.09 8.09 0 0 1-11.13-1.08l-15.78-18.64a7.38 7.38 0 0 1 1.34-10.34l34.57-27.18-14.14-16.74-17.09 13.45a7.75 7.75 0 0 1-10.59-1s-3.72-4.42-3.8-4.53a7.38 7.38 0 0 1 1.37-10.34L214 225.19s-18.51-22-18.6-22.14a9.56 9.56 0 0 1 1.74-13.42 10.38 10.38 0 0 1 14.3 1.37l81.09 96.32a9.58 9.58 0 0 1-1.74 13.44zM187.44 419a18 18 0 1 0 18 18 18 18 0 0 0-18-18z"></path></svg></button><button type="button" class="chakra-button css-1cdif8o" aria-label="LinkedIn" title="LinkedIn"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" aria-hidden="true" focusable="false" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></button></div><style data-emotion="css 14lxv93">.css-14lxv93{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}.css-14lxv93>*:not(style)~*:not(style){margin-top:0px;-webkit-margin-end:0px;margin-inline-end:0px;margin-bottom:0px;-webkit-margin-start:0.5rem;margin-inline-start:0.5rem;}</style><div class="chakra-stack css-14lxv93"><style data-emotion="css jneyc">.css-jneyc{color:var(--chakra-colors-gray-600);}</style><div class="css-jneyc"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" aria-label="Change to Light Mode" height="10px" width="10px" xmlns="http://www.w3.org/2000/svg"><title>Light Mode</title><path d="M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"></path></svg></div><style data-emotion="css 1g4burd">.css-1g4burd{display:inline-block;position:relative;vertical-align:middle;line-height:0;--switch-track-diff:calc(var(--switch-track-width) - var(--switch-track-height));--switch-thumb-x:var(--switch-track-diff);--switch-track-width:1.875rem;--switch-track-height:1rem;}[dir=rtl] .css-1g4burd,.css-1g4burd[dir=rtl]{--switch-thumb-x:calc(var(--switch-track-diff) * -1);}</style><label class="chakra-switch css-1g4burd"><input type="checkbox" class="chakra-switch__input" aria-label="Toggle theme" style="border:0px;clip:rect(0px, 0px, 0px, 0px);height:1px;width:1px;margin:-1px;padding:0px;overflow:hidden;white-space:nowrap;position:absolute"/><style data-emotion="css iv8ila">.css-iv8ila{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;box-sizing:content-box;cursor:pointer;border-radius:var(--chakra-radii-full);padding:2px;width:var(--switch-track-width);height:var(--switch-track-height);transition-property:var(--chakra-transition-property-common);transition-duration:var(--chakra-transition-duration-fast);background:var(--chakra-colors-gray-300);}.css-iv8ila:focus,.css-iv8ila[data-focus]{box-shadow:var(--chakra-shadows-outline);}.css-iv8ila[disabled],.css-iv8ila[aria-disabled=true],.css-iv8ila[data-disabled]{opacity:0.4;cursor:not-allowed;}.css-iv8ila[aria-checked=true],.css-iv8ila[data-checked]{background:black.500;}</style><span aria-hidden="true" class="chakra-switch__track css-iv8ila"><style data-emotion="css 7roig">.css-7roig{background:var(--chakra-colors-white);transition-property:transform;transition-duration:var(--chakra-transition-duration-normal);border-radius:inherit;width:var(--switch-track-height);height:var(--switch-track-height);}.css-7roig[aria-checked=true],.css-7roig[data-checked]{-webkit-transform:translateX(var(--switch-thumb-x));-moz-transform:translateX(var(--switch-thumb-x));-ms-transform:translateX(var(--switch-thumb-x));transform:translateX(var(--switch-thumb-x));}</style><span class="chakra-switch__thumb css-7roig"></span></span></label><style data-emotion="css 119zpey">.css-119zpey{color:var(--chakra-colors-gray-300);}</style><div class="css-119zpey"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" aria-label="Change to Dark Mode" height="10px" width="10px" xmlns="http://www.w3.org/2000/svg"><title>Dark Mode</title><path d="M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"></path></svg></div></div></div></footer></div></div><span></span></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"article":{"title":"Manually Create Coverage Badges Using GitHub Actions","layout":"posts","slug":"manually-create-coverage-badges-using-github-actions","draft":false,"frontMatter":{"title":"Manually Create Coverage Badges Using GitHub Actions","publishedDate":"2023-04-09T23:31:00Z","tags":["GitHub","GitHub Actions","Coverage"],"description":"","disableComments":false},"rawContent":"\nAdding a coverage badge to your repository is an excellent way to demonstrate your project's test coverage and maintain a high level of code quality. By the end of this guide, you will be able to generate a dynamic coverage badge that updates automatically with each new push to your repository.\n\n## Prerequisites\n\n- A [Node.js](https://nodejs.org/) project with test coverage reports generated by a tool like [c8](https://github.com/bcoe/c8) or [Istanbul](https://github.com/istanbuljs/nyc).\n- A GitHub repository for your project.\n- [GitHub deploy keys](https://github.com/peaceiris/actions-gh-pages#%EF%B8%8F-create-ssh-deploy-key) configured for your repository.\n\nLet's get started!\n\n## Step 1: Install Cheerio\n\nBefore anything else, make sure you have a coverage report generated by your testing tool. In our case, we will use the HTML report generated by [c8](https://github.com/bcoe/c8). This report will look something like this:\n\n```html filename=./coverage/index.html\n\u003c!DOCTYPE html\u003e\n\u003chtml lang=\"en\"\u003e\n  \u003cbody\u003e\n    \u003cdiv class=\"wrapper\"\u003e\n      \u003cdiv class=\"pad1\"\u003e\n        \u003cdiv class=\"clearfix\"\u003e\n          \u003cdiv class=\"fl pad1y space-right2\"\u003e\n            \u003cspan class=\"strong\"\u003e100%\u003c/span\u003e\n            \u003cspan class=\"quiet\"\u003eStatements\u003c/span\u003e\n            \u003cspan class=\"fraction\"\u003e786/786\u003c/span\u003e\n          \u003c/div\u003e\n          \u003cdiv class=\"fl pad1y space-right2\"\u003e\n            \u003cspan class=\"strong\"\u003e100%\u003c/span\u003e\n            \u003cspan class=\"quiet\"\u003eBranches\u003c/span\u003e\n            \u003cspan class=\"fraction\"\u003e74/74\u003c/span\u003e\n          \u003c/div\u003e\n          \u003cdiv class=\"fl pad1y space-right2\"\u003e\n            \u003cspan class=\"strong\"\u003e90.9%\u003c/span\u003e\n            \u003cspan class=\"quiet\"\u003eFunctions\u003c/span\u003e\n            \u003cspan class=\"fraction\"\u003e33/33\u003c/span\u003e\n          \u003c/div\u003e\n          \u003cdiv class=\"fl pad1y space-right2\"\u003e\n            \u003cspan class=\"strong\"\u003e100%\u003c/span\u003e\n            \u003cspan class=\"quiet\"\u003eLines\u003c/span\u003e\n            \u003cspan class=\"fraction\"\u003e786/786\u003c/span\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  \u003c/body\u003e\n\u003c/html\u003e\n```\n\nWe will use [cheerio](https://github.com/cheeriojs/cheerio), a [jQuery](https://jquery.com/)-like library for server-side to extract the percentage data from the HTML. Install it to your `devDependencies` using the package manager of your choice:\n\n```bash\n# npm\nnpm install --save-dev cheerio\n\n# yarn\nyarn add --dev cheerio\n\n# pnpm\npnpm add --save-dev cheerio\n```\n\n## Step 2: Create a Script to Extract Coverage Data\n\nNext, we need to create the actual script that will extract the coverage data from the HTML report. Create a new file called `./scripts/generate-badges.js` and add the following code:\n\n```js filename=./scripts/generate-badges.js\nconst fs = require('fs');\nconst https = require('https');\nconst cheerio = require('cheerio');\n\nconst coverageFile = './coverage/index.html';\nconst badgesDir = './coverage/badges';\n\n// Read the coverage HTML file.\nfs.readFile(coverageFile, 'utf-8', (err, data) =\u003e {\n  if (err) {\n    console.error(`Error reading coverage file: ${err}`);\n    process.exit(1);\n  }\n\n  // Parse the HTML using Cheerio.\n  const $ = cheerio.load(data);\n\n  // Construct the shields.io URL for each badge.\n  const statementsBadgeUrl = generateUrl('statements', extractPercentage($, 1));\n  const branchesBadgeUrl = generateUrl('branches', extractPercentage($, 2));\n  const functionsBadgeUrl = generateUrl('functions', extractPercentage($, 3));\n  const linesBadgeUrl = generateUrl('lines', extractPercentage($, 4));\n\n  // Create the badges directory if it does not exist.\n  if (!fs.existsSync(badgesDir)) {\n    fs.mkdirSync(badgesDir);\n  }\n\n  // Download each badge and save it to the badges directory.\n  downloadBadge(statementsBadgeUrl, `${badgesDir}/statements.svg`);\n  downloadBadge(branchesBadgeUrl, `${badgesDir}/branches.svg`);\n  downloadBadge(functionsBadgeUrl, `${badgesDir}/functions.svg`);\n  downloadBadge(linesBadgeUrl, `${badgesDir}/lines.svg`);\n\n  console.log('Code coverage badges created successfully.');\n});\n\n/**\n * Generate a shields.io URL for a badge.\n *\n * Change the color of the badge based on the percentage.\n *\n * @param {string} text The text to display on the badge.\n * @param {number} percentage The percentage to display on the badge.\n * @returns {string} The shields.io URL.\n */\nconst generateUrl = (text, percentage) =\u003e {\n  let color = 'brightgreen';\n  if (percentage \u003c 70) {\n    color = 'red';\n  } else if (percentage \u003c 80) {\n    color = 'yellow';\n  } else if (percentage \u003c 90) {\n    color = 'orange';\n  }\n  return `https://img.shields.io/badge/coverage%3A${text}-${percentage}%25-${color}.svg`;\n};\n\n/**\n * Extract the code coverage percentage from the HTML.\n * @param {Cheerio} $ The Cheerio object.\n * @param {number} index The index of the element to extract.\n */\nconst extractPercentage = ($, index) =\u003e {\n  const text = $(`.pad1y:nth-child(${index}) span.strong`) ?? '0';\n  const percentage = text.text().trim().replace('%', '');\n  return parseFloat(percentage);\n};\n\n/**\n * Download a badge from shields.io.\n * @param {string} url The shields.io URL.\n * @param {string} filename The filename to save the badge to.\n */\nconst downloadBadge = (url, filename) =\u003e {\n  https.get(url, (res) =\u003e {\n    if (res.statusCode !== 200) {\n      console.error(`Error downloading badge: ${res.statusMessage}`);\n      return;\n    }\n\n    const file = fs.createWriteStream(filename);\n    res.pipe(file);\n    file.on('finish', () =\u003e {\n      file.close();\n    });\n  });\n};\n```\n\nThis is a fairly straightforward script that uses Cheerio to parse the HTML report and extract the coverage data. It then uses the data to generate the [shields.io](https://shields.io/) URLs for each badge type. Finally, it downloads each badge and saves it to the `./coverage/badges` directory.\n\nUpdate your `package.json` to add a new script that will run the `generate-badges.js` script:\n\n```json filename=package.json\n{\n  \"scripts\": {\n    // ...\n    \"generate-badges\": \"node ./scripts/generate-badges.js\"\n  }\n}\n```\n\nRun the script to generate the badges:\n\n```bash\n# generate the coverage report first\npnpm coverage\n\n# generate the badges\npnpm generate-badges\n```\n\n## Step 3: Configure GitHub Actions\n\n\u003e **NOTE**: For this guide, we will use [pnpm](https://pnpm.io/), but the commands should be similar for other package managers.\n\n\u003e **NOTE**: This requires that you have an SSH Deploy Key configured for your repository. See [Create SSH Deploy Key](https://github.com/peaceiris/actions-gh-pages#%EF%B8%8F-create-ssh-deploy-key) for more information.\n\nIn your repository, create a `.github/workflows` directory if it doesn't already exist. Then, create a new YAML file inside the workflows directory called `coverage-badge.yml`. This file will define the GitHub Actions workflow that generates the coverage badge.\n\nAdd the following content to `coverage-badge.yml`:\n\n```yaml filename=.github/workflows/coverage-badge.yml\nname: (main) coverage badge\n\non:\n  workflow_dispatch:\n  push:\n    branches:\n      - main\n\njobs:\n  coverage-badge:\n    strategy:\n      matrix:\n        os:\n          - ubuntu-latest\n        node:\n          - 18.14.2\n        pnpm:\n          - 7\n    runs-on: ${{ matrix.os }}\n    steps:\n      - name: checkout repository\n        uses: actions/checkout@v3\n      - name: setup node\n        uses: actions/setup-node@v3\n        with:\n          node-version: ${{ matrix.node }}\n      - name: install pnpm\n        uses: pnpm/action-setup@v2\n        id: pnpm-install\n        with:\n          version: ${{ matrix.pnpm }}\n          run_install: false\n      - name: get pnpm store directory\n        id: pnpm-cache\n        shell: bash\n        run: |\n          echo \"STORE_PATH=$(pnpm store path)\" \u003e\u003e $GITHUB_OUTPUT\n      - name: Setup pnpm cache\n        uses: actions/cache@v3\n        with:\n          path: ${{ steps.pnpm-cache.outputs.STORE_PATH }}\n          key: ${{ runner.os }}-pnpm-store-${{ hashFiles('**/pnpm-lock.yaml') }}\n          restore-keys: |\n            ${{ runner.os }}-pnpm-store-\n      - name: install dependencies\n        run: pnpm install\n      - name: run coverage\n        run: pnpm coverage\n      - name: generate badges\n        run: pnpm generate-badges\n      - name: push coverage artifacts to another branch\n        uses: peaceiris/actions-gh-pages@v3\n        with:\n          deploy_key: ${{ secrets.COVERAGE_DEPLOY_KEY }}\n          publish_dir: ./coverage\n          publish_branch: coverage\n          allow_empty_commit: true\n```\n\nLet's break down the workflow into its various sections:\n\n```yaml\non:\n  workflow_dispatch:\n  push:\n    branches:\n      - main\n```\n\nThe workflow is triggered when there's a push to the `main` branch or can be triggered manually ([`workflow_dispatch`](https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows#workflow_dispatch)).\n\n```yaml\njobs:\n  covera:\n    strategy:\n      matrix:\n        os:\n          - ubuntu-latest\n        node:\n          - 18.14.2\n        pnpm:\n          - 7\n    runs-on: ${{ matrix.os }}\n```\n\nWe're using a matrix strategy to run the workflow on multiple operating systems, Node.js versions, and pnpm versions. For our purpose, we will only use one version of each, but this is a good practice to follow.\n\n```yaml\n- name: checkout repository\n  uses: actions/checkout@v3\n- name: setup node\n  uses: actions/setup-node@v3\n  with:\n    node-version: ${{ matrix.node }}\n```\n\nThis step checks out your repository using the [actions/checkout](https://github.com/actions/checkout) action. Then, it sets up Node.js using the [actions/setup-node](https://github.com/actions/setup-node) action.\n\n```yaml\n- name: install pnpm\n  uses: pnpm/action-setup@v2\n  id: pnpm-install\n  with:\n    version: ${{ matrix.pnpm }}\n    run_install: false\n```\n\nThis step installs pnpm using the [pnpm/action-setup](https://github.com/pnpm/action-setup) action and the specified pnpm version from the matrix. We're not installing any dependencies yet, so we don't need to run `pnpm install`.\n\n```yaml\n- name: get pnpm store directory\n  id: pnpm-cache\n  shell: bash\n  run: |\n    echo \"STORE_PATH=$(pnpm store path)\" \u003e\u003e $GITHUB_OUTPUT\n- name: Setup pnpm cache\n  uses: actions/cache@v3\n  with:\n    path: ${{ steps.pnpm-cache.outputs.STORE_PATH }}\n    key: ${{ runner.os }}-pnpm-store-${{ hashFiles('**/pnpm-lock.yaml') }}\n    restore-keys: |\n      ${{ runner.os }}-pnpm-store-\n- name: install dependencies\n  run: pnpm install\n```\n\nThese steps will use the cache from [actions/cache](https://github.com/actions/cache) and install the project's dependencies using pnpm. We're using the cache to reduce installation time and to avoid downloading the same dependencies multiple times.\n\n```yaml\n- name: run coverage\n  run: pnpm coverage\n- name: generate badges\n  run: pnpm generate-badges\n```\n\nThis step runs the `coverage` script, which should generate a coverage report. Then, it runs the `generate-badges` script, which should generate the coverage badges.\n\n```yaml\n- name: push coverage artifacts to another branch\n  uses: peaceiris/actions-gh-pages@v3\n  with:\n    deploy_key: ${{ secrets.COVERAGE_DEPLOY_KEY }}\n    publish_dir: ./coverage\n    publish_branch: coverage\n    allow_empty_commit: true\n```\n\nLastly, this step pushes the coverage artifacts, including the generated badges and the coverage report, to a separate coverage branch in your repository using the [peaceiris/actions-gh-pages](https://github.com/peaceiris/actions-gh-pages) action.\n\nOptions:\n\n- The `deploy_key` option is set to the `COVERAGE_DEPLOY_KEY` secret, which is a Deploy Key stored in your repository settings. This deploy key should have write access to the repository. Follow the instructions from [Create SSH Deploy Key](https://github.com/peaceiris/actions-gh-pages#%EF%B8%8F-create-ssh-deploy-key) to generate it and add it to your repository.\n- The `publish_dir` is set to `./coverage`, which is the directory containing the coverage report and badges.\n- The `allow_empty_commit` option is set to true to allow empty commits if there are no changes in the coverage artifacts.\n- The `publish_branch` is the name of the branch you want to push the coverage artifacts to. It's currently set to `coverage`, but you can change it to whatever you want.\n\n## Step 4: Add Badge to README\n\nTo display the coverage badge in your README file, add the following line at the top of your `README.md` file:\n\n```md filename=README.md\n![Coverage: Statements](https://raw.githubusercontent.com/\u003cUSER_NAME\u003e/\u003cREPO_NAME\u003e/\u003cPUBLISH_BRANCH_NAME\u003e/badges/statements.svg)\n![Coverage: Branches](https://raw.githubusercontent.com/\u003cUSER_NAME\u003e/\u003cREPO_NAME\u003e/\u003cPUBLISH_BRANCH_NAME\u003e/badges/branches.svg)\n![Coverage: Functions](https://raw.githubusercontent.com/\u003cUSER_NAME\u003e/\u003cREPO_NAME\u003e/\u003cPUBLISH_BRANCH_NAME\u003e/badges/functions.svg)\n![Coverage: Lines](https://raw.githubusercontent.com/\u003cUSER_NAME\u003e/\u003cREPO_NAME\u003e/\u003cPUBLISH_BRANCH_NAME\u003e/badges/lines.svg)\n```\n\nThese lines will render the badges as an image. It should point to the latest badges in your `\u003cPUBLISH_BRANCH_NAME\u003e` branch.\n\n## Conclusion\n\nCongratulations! You have successfully created a dynamic coverage badge for your Node.js project. This badge will help you showcase your project's test coverage and encourage you to maintain a high level of code quality. Don't hesitate to customize this workflow to suit your needs and adapt it to different coverage tools and badge styles.\n\nHappy coding!\n","excerpt":"\nAdding a coverage badge to your repository is an excellent way to demonstrate your project's test coverage and maintain a high level of code quality. By the end of this guide, you will be able to generate a dynamic coverage badge that updates automatically with each new push to your repository.\n\n##...","serializedContent":{"compiledSource":"var d=Object.defineProperty,h=Object.defineProperties;var g=Object.getOwnPropertyDescriptors;var s=Object.getOwnPropertySymbols;var o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;var p=(a,t,n)=\u003et in a?d(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,e=(a,t)=\u003e{for(var n in t||(t={}))o.call(t,n)\u0026\u0026p(a,n,t[n]);if(s)for(var n of s(t))i.call(t,n)\u0026\u0026p(a,n,t[n]);return a},c=(a,t)=\u003eh(a,g(t));var l=(a,t)=\u003e{var n={};for(var r in a)o.call(a,r)\u0026\u0026t.indexOf(r)\u003c0\u0026\u0026(n[r]=a[r]);if(a!=null\u0026\u0026s)for(var r of s(a))t.indexOf(r)\u003c0\u0026\u0026i.call(a,r)\u0026\u0026(n[r]=a[r]);return n};const layoutProps={},MDXLayout=\"wrapper\";function MDXContent(n){var r=n,{components:a}=r,t=l(r,[\"components\"]);return mdx(MDXLayout,c(e(e({},layoutProps),t),{components:a,mdxType:\"MDXLayout\"}),mdx(\"p\",null,\"Adding a coverage badge to your repository is an excellent way to demonstrate your project's test coverage and maintain a high level of code quality. By the end of this guide, you will be able to generate a dynamic coverage badge that updates automatically with each new push to your repository.\"),mdx(\"h2\",e({},{id:\"prerequisites\"}),\"Prerequisites\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"A \",mdx(\"a\",e({parentName:\"li\"},{href:\"https://nodejs.org/\"}),\"Node.js\"),\" project with test coverage reports generated by a tool like \",mdx(\"a\",e({parentName:\"li\"},{href:\"https://github.com/bcoe/c8\"}),\"c8\"),\" or \",mdx(\"a\",e({parentName:\"li\"},{href:\"https://github.com/istanbuljs/nyc\"}),\"Istanbul\"),\".\"),mdx(\"li\",{parentName:\"ul\"},\"A GitHub repository for your project.\"),mdx(\"li\",{parentName:\"ul\"},mdx(\"a\",e({parentName:\"li\"},{href:\"https://github.com/peaceiris/actions-gh-pages#%EF%B8%8F-create-ssh-deploy-key\"}),\"GitHub deploy keys\"),\" configured for your repository.\")),mdx(\"p\",null,\"Let's get started!\"),mdx(\"h2\",e({},{id:\"step-1-install-cheerio\"}),\"Step 1: Install Cheerio\"),mdx(\"p\",null,\"Before anything else, make sure you have a coverage report generated by your testing tool. In our case, we will use the HTML report generated by \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/bcoe/c8\"}),\"c8\"),\". This report will look something like this:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-html\",metastring:\"filename=./coverage/index.html\",filename:\"./coverage/index.html\"}),`\u003c!DOCTYPE html\u003e\n\u003chtml lang=\"en\"\u003e\n  \u003cbody\u003e\n    \u003cdiv class=\"wrapper\"\u003e\n      \u003cdiv class=\"pad1\"\u003e\n        \u003cdiv class=\"clearfix\"\u003e\n          \u003cdiv class=\"fl pad1y space-right2\"\u003e\n            \u003cspan class=\"strong\"\u003e100%\u003c/span\u003e\n            \u003cspan class=\"quiet\"\u003eStatements\u003c/span\u003e\n            \u003cspan class=\"fraction\"\u003e786/786\u003c/span\u003e\n          \u003c/div\u003e\n          \u003cdiv class=\"fl pad1y space-right2\"\u003e\n            \u003cspan class=\"strong\"\u003e100%\u003c/span\u003e\n            \u003cspan class=\"quiet\"\u003eBranches\u003c/span\u003e\n            \u003cspan class=\"fraction\"\u003e74/74\u003c/span\u003e\n          \u003c/div\u003e\n          \u003cdiv class=\"fl pad1y space-right2\"\u003e\n            \u003cspan class=\"strong\"\u003e90.9%\u003c/span\u003e\n            \u003cspan class=\"quiet\"\u003eFunctions\u003c/span\u003e\n            \u003cspan class=\"fraction\"\u003e33/33\u003c/span\u003e\n          \u003c/div\u003e\n          \u003cdiv class=\"fl pad1y space-right2\"\u003e\n            \u003cspan class=\"strong\"\u003e100%\u003c/span\u003e\n            \u003cspan class=\"quiet\"\u003eLines\u003c/span\u003e\n            \u003cspan class=\"fraction\"\u003e786/786\u003c/span\u003e\n          \u003c/div\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    \u003c/div\u003e\n  \u003c/body\u003e\n\u003c/html\u003e\n`)),mdx(\"p\",null,\"We will use \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/cheeriojs/cheerio\"}),\"cheerio\"),\", a \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://jquery.com/\"}),\"jQuery\"),\"-like library for server-side to extract the percentage data from the HTML. Install it to your \",mdx(\"inlineCode\",{parentName:\"p\"},\"devDependencies\"),\" using the package manager of your choice:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-bash\"}),`# npm\nnpm install --save-dev cheerio\n\n# yarn\nyarn add --dev cheerio\n\n# pnpm\npnpm add --save-dev cheerio\n`)),mdx(\"h2\",e({},{id:\"step-2-create-a-script-to-extract-coverage-data\"}),\"Step 2: Create a Script to Extract Coverage Data\"),mdx(\"p\",null,\"Next, we need to create the actual script that will extract the coverage data from the HTML report. Create a new file called \",mdx(\"inlineCode\",{parentName:\"p\"},\"./scripts/generate-badges.js\"),\" and add the following code:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-js\",metastring:\"filename=./scripts/generate-badges.js\",filename:\"./scripts/generate-badges.js\"}),`const fs = require('fs');\nconst https = require('https');\nconst cheerio = require('cheerio');\n\nconst coverageFile = './coverage/index.html';\nconst badgesDir = './coverage/badges';\n\n// Read the coverage HTML file.\nfs.readFile(coverageFile, 'utf-8', (err, data) =\u003e {\n  if (err) {\n    console.error(\\`Error reading coverage file: \\${err}\\`);\n    process.exit(1);\n  }\n\n  // Parse the HTML using Cheerio.\n  const $ = cheerio.load(data);\n\n  // Construct the shields.io URL for each badge.\n  const statementsBadgeUrl = generateUrl('statements', extractPercentage($, 1));\n  const branchesBadgeUrl = generateUrl('branches', extractPercentage($, 2));\n  const functionsBadgeUrl = generateUrl('functions', extractPercentage($, 3));\n  const linesBadgeUrl = generateUrl('lines', extractPercentage($, 4));\n\n  // Create the badges directory if it does not exist.\n  if (!fs.existsSync(badgesDir)) {\n    fs.mkdirSync(badgesDir);\n  }\n\n  // Download each badge and save it to the badges directory.\n  downloadBadge(statementsBadgeUrl, \\`\\${badgesDir}/statements.svg\\`);\n  downloadBadge(branchesBadgeUrl, \\`\\${badgesDir}/branches.svg\\`);\n  downloadBadge(functionsBadgeUrl, \\`\\${badgesDir}/functions.svg\\`);\n  downloadBadge(linesBadgeUrl, \\`\\${badgesDir}/lines.svg\\`);\n\n  console.log('Code coverage badges created successfully.');\n});\n\n/**\n * Generate a shields.io URL for a badge.\n *\n * Change the color of the badge based on the percentage.\n *\n * @param {string} text The text to display on the badge.\n * @param {number} percentage The percentage to display on the badge.\n * @returns {string} The shields.io URL.\n */\nconst generateUrl = (text, percentage) =\u003e {\n  let color = 'brightgreen';\n  if (percentage \u003c 70) {\n    color = 'red';\n  } else if (percentage \u003c 80) {\n    color = 'yellow';\n  } else if (percentage \u003c 90) {\n    color = 'orange';\n  }\n  return \\`https://img.shields.io/badge/coverage%3A\\${text}-\\${percentage}%25-\\${color}.svg\\`;\n};\n\n/**\n * Extract the code coverage percentage from the HTML.\n * @param {Cheerio} $ The Cheerio object.\n * @param {number} index The index of the element to extract.\n */\nconst extractPercentage = ($, index) =\u003e {\n  const text = $(\\`.pad1y:nth-child(\\${index}) span.strong\\`) ?? '0';\n  const percentage = text.text().trim().replace('%', '');\n  return parseFloat(percentage);\n};\n\n/**\n * Download a badge from shields.io.\n * @param {string} url The shields.io URL.\n * @param {string} filename The filename to save the badge to.\n */\nconst downloadBadge = (url, filename) =\u003e {\n  https.get(url, (res) =\u003e {\n    if (res.statusCode !== 200) {\n      console.error(\\`Error downloading badge: \\${res.statusMessage}\\`);\n      return;\n    }\n\n    const file = fs.createWriteStream(filename);\n    res.pipe(file);\n    file.on('finish', () =\u003e {\n      file.close();\n    });\n  });\n};\n`)),mdx(\"p\",null,\"This is a fairly straightforward script that uses Cheerio to parse the HTML report and extract the coverage data. It then uses the data to generate the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://shields.io/\"}),\"shields.io\"),\" URLs for each badge type. Finally, it downloads each badge and saves it to the \",mdx(\"inlineCode\",{parentName:\"p\"},\"./coverage/badges\"),\" directory.\"),mdx(\"p\",null,\"Update your \",mdx(\"inlineCode\",{parentName:\"p\"},\"package.json\"),\" to add a new script that will run the \",mdx(\"inlineCode\",{parentName:\"p\"},\"generate-badges.js\"),\" script:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-json\",metastring:\"filename=package.json\",filename:\"package.json\"}),`{\n  \"scripts\": {\n    // ...\n    \"generate-badges\": \"node ./scripts/generate-badges.js\"\n  }\n}\n`)),mdx(\"p\",null,\"Run the script to generate the badges:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-bash\"}),`# generate the coverage report first\npnpm coverage\n\n# generate the badges\npnpm generate-badges\n`)),mdx(\"h2\",e({},{id:\"step-3-configure-github-actions\"}),\"Step 3: Configure GitHub Actions\"),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},mdx(\"strong\",{parentName:\"p\"},\"NOTE\"),\": For this guide, we will use \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://pnpm.io/\"}),\"pnpm\"),\", but the commands should be similar for other package managers.\")),mdx(\"blockquote\",null,mdx(\"p\",{parentName:\"blockquote\"},mdx(\"strong\",{parentName:\"p\"},\"NOTE\"),\": This requires that you have an SSH Deploy Key configured for your repository. See \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/peaceiris/actions-gh-pages#%EF%B8%8F-create-ssh-deploy-key\"}),\"Create SSH Deploy Key\"),\" for more information.\")),mdx(\"p\",null,\"In your repository, create a \",mdx(\"inlineCode\",{parentName:\"p\"},\".github/workflows\"),\" directory if it doesn't already exist. Then, create a new YAML file inside the workflows directory called \",mdx(\"inlineCode\",{parentName:\"p\"},\"coverage-badge.yml\"),\". This file will define the GitHub Actions workflow that generates the coverage badge.\"),mdx(\"p\",null,\"Add the following content to \",mdx(\"inlineCode\",{parentName:\"p\"},\"coverage-badge.yml\"),\":\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-yaml\",metastring:\"filename=.github/workflows/coverage-badge.yml\",filename:\".github/workflows/coverage-badge.yml\"}),`name: (main) coverage badge\n\non:\n  workflow_dispatch:\n  push:\n    branches:\n      - main\n\njobs:\n  coverage-badge:\n    strategy:\n      matrix:\n        os:\n          - ubuntu-latest\n        node:\n          - 18.14.2\n        pnpm:\n          - 7\n    runs-on: \\${{ matrix.os }}\n    steps:\n      - name: checkout repository\n        uses: actions/checkout@v3\n      - name: setup node\n        uses: actions/setup-node@v3\n        with:\n          node-version: \\${{ matrix.node }}\n      - name: install pnpm\n        uses: pnpm/action-setup@v2\n        id: pnpm-install\n        with:\n          version: \\${{ matrix.pnpm }}\n          run_install: false\n      - name: get pnpm store directory\n        id: pnpm-cache\n        shell: bash\n        run: |\n          echo \"STORE_PATH=$(pnpm store path)\" \u003e\u003e $GITHUB_OUTPUT\n      - name: Setup pnpm cache\n        uses: actions/cache@v3\n        with:\n          path: \\${{ steps.pnpm-cache.outputs.STORE_PATH }}\n          key: \\${{ runner.os }}-pnpm-store-\\${{ hashFiles('**/pnpm-lock.yaml') }}\n          restore-keys: |\n            \\${{ runner.os }}-pnpm-store-\n      - name: install dependencies\n        run: pnpm install\n      - name: run coverage\n        run: pnpm coverage\n      - name: generate badges\n        run: pnpm generate-badges\n      - name: push coverage artifacts to another branch\n        uses: peaceiris/actions-gh-pages@v3\n        with:\n          deploy_key: \\${{ secrets.COVERAGE_DEPLOY_KEY }}\n          publish_dir: ./coverage\n          publish_branch: coverage\n          allow_empty_commit: true\n`)),mdx(\"p\",null,\"Let's break down the workflow into its various sections:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-yaml\"}),`on:\n  workflow_dispatch:\n  push:\n    branches:\n      - main\n`)),mdx(\"p\",null,\"The workflow is triggered when there's a push to the \",mdx(\"inlineCode\",{parentName:\"p\"},\"main\"),\" branch or can be triggered manually (\",mdx(\"a\",e({parentName:\"p\"},{href:\"https://docs.github.com/en/actions/using-workflows/events-that-trigger-workflows#workflow_dispatch\"}),mdx(\"inlineCode\",{parentName:\"a\"},\"workflow_dispatch\")),\").\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-yaml\"}),`jobs:\n  covera:\n    strategy:\n      matrix:\n        os:\n          - ubuntu-latest\n        node:\n          - 18.14.2\n        pnpm:\n          - 7\n    runs-on: \\${{ matrix.os }}\n`)),mdx(\"p\",null,\"We're using a matrix strategy to run the workflow on multiple operating systems, Node.js versions, and pnpm versions. For our purpose, we will only use one version of each, but this is a good practice to follow.\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-yaml\"}),`- name: checkout repository\n  uses: actions/checkout@v3\n- name: setup node\n  uses: actions/setup-node@v3\n  with:\n    node-version: \\${{ matrix.node }}\n`)),mdx(\"p\",null,\"This step checks out your repository using the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/actions/checkout\"}),\"actions/checkout\"),\" action. Then, it sets up Node.js using the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/actions/setup-node\"}),\"actions/setup-node\"),\" action.\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-yaml\"}),`- name: install pnpm\n  uses: pnpm/action-setup@v2\n  id: pnpm-install\n  with:\n    version: \\${{ matrix.pnpm }}\n    run_install: false\n`)),mdx(\"p\",null,\"This step installs pnpm using the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/pnpm/action-setup\"}),\"pnpm/action-setup\"),\" action and the specified pnpm version from the matrix. We're not installing any dependencies yet, so we don't need to run \",mdx(\"inlineCode\",{parentName:\"p\"},\"pnpm install\"),\".\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-yaml\"}),`- name: get pnpm store directory\n  id: pnpm-cache\n  shell: bash\n  run: |\n    echo \"STORE_PATH=$(pnpm store path)\" \u003e\u003e $GITHUB_OUTPUT\n- name: Setup pnpm cache\n  uses: actions/cache@v3\n  with:\n    path: \\${{ steps.pnpm-cache.outputs.STORE_PATH }}\n    key: \\${{ runner.os }}-pnpm-store-\\${{ hashFiles('**/pnpm-lock.yaml') }}\n    restore-keys: |\n      \\${{ runner.os }}-pnpm-store-\n- name: install dependencies\n  run: pnpm install\n`)),mdx(\"p\",null,\"These steps will use the cache from \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/actions/cache\"}),\"actions/cache\"),\" and install the project's dependencies using pnpm. We're using the cache to reduce installation time and to avoid downloading the same dependencies multiple times.\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-yaml\"}),`- name: run coverage\n  run: pnpm coverage\n- name: generate badges\n  run: pnpm generate-badges\n`)),mdx(\"p\",null,\"This step runs the \",mdx(\"inlineCode\",{parentName:\"p\"},\"coverage\"),\" script, which should generate a coverage report. Then, it runs the \",mdx(\"inlineCode\",{parentName:\"p\"},\"generate-badges\"),\" script, which should generate the coverage badges.\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-yaml\"}),`- name: push coverage artifacts to another branch\n  uses: peaceiris/actions-gh-pages@v3\n  with:\n    deploy_key: \\${{ secrets.COVERAGE_DEPLOY_KEY }}\n    publish_dir: ./coverage\n    publish_branch: coverage\n    allow_empty_commit: true\n`)),mdx(\"p\",null,\"Lastly, this step pushes the coverage artifacts, including the generated badges and the coverage report, to a separate coverage branch in your repository using the \",mdx(\"a\",e({parentName:\"p\"},{href:\"https://github.com/peaceiris/actions-gh-pages\"}),\"peaceiris/actions-gh-pages\"),\" action.\"),mdx(\"p\",null,\"Options:\"),mdx(\"ul\",null,mdx(\"li\",{parentName:\"ul\"},\"The \",mdx(\"inlineCode\",{parentName:\"li\"},\"deploy_key\"),\" option is set to the \",mdx(\"inlineCode\",{parentName:\"li\"},\"COVERAGE_DEPLOY_KEY\"),\" secret, which is a Deploy Key stored in your repository settings. This deploy key should have write access to the repository. Follow the instructions from \",mdx(\"a\",e({parentName:\"li\"},{href:\"https://github.com/peaceiris/actions-gh-pages#%EF%B8%8F-create-ssh-deploy-key\"}),\"Create SSH Deploy Key\"),\" to generate it and add it to your repository.\"),mdx(\"li\",{parentName:\"ul\"},\"The \",mdx(\"inlineCode\",{parentName:\"li\"},\"publish_dir\"),\" is set to \",mdx(\"inlineCode\",{parentName:\"li\"},\"./coverage\"),\", which is the directory containing the coverage report and badges.\"),mdx(\"li\",{parentName:\"ul\"},\"The \",mdx(\"inlineCode\",{parentName:\"li\"},\"allow_empty_commit\"),\" option is set to true to allow empty commits if there are no changes in the coverage artifacts.\"),mdx(\"li\",{parentName:\"ul\"},\"The \",mdx(\"inlineCode\",{parentName:\"li\"},\"publish_branch\"),\" is the name of the branch you want to push the coverage artifacts to. It's currently set to \",mdx(\"inlineCode\",{parentName:\"li\"},\"coverage\"),\", but you can change it to whatever you want.\")),mdx(\"h2\",e({},{id:\"step-4-add-badge-to-readme\"}),\"Step 4: Add Badge to README\"),mdx(\"p\",null,\"To display the coverage badge in your README file, add the following line at the top of your \",mdx(\"inlineCode\",{parentName:\"p\"},\"README.md\"),\" file:\"),mdx(\"pre\",null,mdx(\"code\",e({parentName:\"pre\"},{className:\"language-md\",metastring:\"filename=README.md\",filename:\"README.md\"}),`![Coverage: Statements](https://raw.githubusercontent.com/\u003cUSER_NAME\u003e/\u003cREPO_NAME\u003e/\u003cPUBLISH_BRANCH_NAME\u003e/badges/statements.svg)\n![Coverage: Branches](https://raw.githubusercontent.com/\u003cUSER_NAME\u003e/\u003cREPO_NAME\u003e/\u003cPUBLISH_BRANCH_NAME\u003e/badges/branches.svg)\n![Coverage: Functions](https://raw.githubusercontent.com/\u003cUSER_NAME\u003e/\u003cREPO_NAME\u003e/\u003cPUBLISH_BRANCH_NAME\u003e/badges/functions.svg)\n![Coverage: Lines](https://raw.githubusercontent.com/\u003cUSER_NAME\u003e/\u003cREPO_NAME\u003e/\u003cPUBLISH_BRANCH_NAME\u003e/badges/lines.svg)\n`)),mdx(\"p\",null,\"These lines will render the badges as an image. It should point to the latest badges in your \",mdx(\"inlineCode\",{parentName:\"p\"},\"\u003cPUBLISH_BRANCH_NAME\u003e\"),\" branch.\"),mdx(\"h2\",e({},{id:\"conclusion\"}),\"Conclusion\"),mdx(\"p\",null,\"Congratulations! You have successfully created a dynamic coverage badge for your Node.js project. This badge will help you showcase your project's test coverage and encourage you to maintain a high level of code quality. Don't hesitate to customize this workflow to suit your needs and adapt it to different coverage tools and badge styles.\"),mdx(\"p\",null,\"Happy coding!\"))}MDXContent.isMDXComponent=!0;\n","scope":{}}}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"manually-create-coverage-badges-using-github-actions"},"buildId":"YK9qWzohV16kOX2X7D8V4","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>